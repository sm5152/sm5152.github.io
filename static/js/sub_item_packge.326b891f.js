(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sub_item_packge"],{"0123":function(t,e,s){"use strict";s("5969")},"0704":function(t,e,s){},1844:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"item-detail"}},[e("el-skeleton",{attrs:{loading:t.loading}},[e("template",{slot:"template"},[e("div",{staticClass:"skeleton_temp"},[e("el-skeleton-item",{staticStyle:{width:"380px",height:"380px"},attrs:{variant:"image"}}),e("div",{staticClass:"skeleton_temp_rig"},[e("el-skeleton-item",{staticStyle:{width:"60%","margin-top":"15px",height:"30px","margin-left":"3%"},attrs:{variant:"h3"}}),e("el-skeleton-item",{staticStyle:{width:"90%","margin-top":"15px",height:"30px","margin-left":"3%"},attrs:{variant:"text"}}),e("el-skeleton-item",{staticStyle:{width:"20%","margin-top":"15px","margin-left":"3%",height:"30px"},attrs:{variant:"text"}}),e("el-skeleton-item",{staticStyle:{width:"70%","margin-top":"15px","margin-left":"3%",height:"30px"},attrs:{variant:"text"}}),e("el-skeleton-item",{staticStyle:{width:"90%","margin-top":"15px","margin-left":"3%",height:"80px"},attrs:{variant:"text"}}),e("el-skeleton-item",{staticStyle:{width:"80%","margin-top":"15px","margin-left":"3%",height:"30px"},attrs:{variant:"text"}}),e("el-skeleton-item",{staticStyle:{width:"80%","margin-top":"15px","margin-left":"3%",height:"30px"},attrs:{variant:"text"}})],1)],1)]),t.createComponent&&!t.isError?e("div",{staticClass:"component-box"},[t.isSuper?e("div",[t.isSoldOut?e("skuSoldOut",{attrs:{itemInfo:t.itemInfo,skus:t.skus,getItem:t.getItem}},[t._v(">")]):e("skuSuper",{attrs:{itemInfo:t.itemInfo,skus:t.skus,getItem:t.getItem}}),e("sellerSuper",{attrs:{itemInfo:t.itemInfo}})],1):e("div",[e("sku",{attrs:{itemInfo:t.itemInfo,getItem:t.getItem}}),e("seller",{attrs:{itemInfo:t.itemInfo}})],1)]):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isError,expression:"isError"}]},[e("a",{staticClass:"not-found-url",attrs:{href:t.url,target:"_blank"}},[t._v(t._s(t.url))]),e("p",[t._v(" "+t._s(t.$t("item_details_not_fount_tip1"))+" "),e("span",{directives:[{name:"show",rawName:"v-show",value:""!==t.url,expression:"url !== ''"}]},[t._v(t._s(t.$t("item_details_not_fount_tip_url")))])]),e("i18n",{attrs:{path:"item_details_not_fount_tip",tag:"p"},scopedSlots:t._u([{key:"load",fn:function(){return[e("button",{staticClass:"re-load not-found-btn",on:{click:t.reLoad}},[t._v(t._s(t.$t("item_details_reload")))])]},proxy:!0},{key:"fill",fn:function(){return[e("button",{staticClass:"handle-fill not-found-btn",on:{click:t.handleFill}},[t._v(t._s(t.$t("item_details_manual_fill")))])]},proxy:!0}])})],1)],2)],1)},a=[],r=(s("14d9"),function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"sku"}},[e("div",{staticClass:"sku-content"},[e("div",{staticClass:"prop-imgs"},[e("div",{staticClass:"jqzoom"},[e("el-image",{staticClass:"preview-img",attrs:{src:t.currentImg,lazy:"","preview-src-list":t.itemImagesArr.indexOf(t.currentImg)>-1?t.itemImagesArr:t.preViewImgList}})],1),e("div",{staticClass:"item-imgs"},[e("ul",{staticClass:"item-imgs-box"},t._l(t.itemImages,(function(s){return e("li",{key:s.url,staticClass:"item-img",class:{"item-img-selected":t.currentImg===s.url}},[e("img",{attrs:{src:s.url,alt:"Load failure"},on:{click:function(e){return t.switchPreImg(s.url)}}})])})),0)]),e("div",{staticClass:"add-this"},[e("div",{staticClass:"sales"},[e("span",[t._v(t._s(t.$t("item_details_sales"))+"："+t._s(t.itemInfo.sales))]),t.itemInfo.pic_url?e("span",{staticClass:"find_similarity",on:{click:t.handleFindSimilarity}},[t._v(t._s(t.$t("Find_similarity")))]):t._e()]),e("div",{staticClass:"share-fav"},[e("a-spin",{attrs:{spinning:t.affiliateLoading}},[e("div",{staticClass:"share",on:{click:function(e){return t.affiliateShare(e)}}},[e("a-icon",{attrs:{type:"share-alt"}}),t._v(" "+t._s(t.$t("item_details_share"))+" ")],1)]),e("a-spin",{attrs:{spinning:t.handleFavoriteLoading}},[e("div",{staticClass:"favorite",on:{click:t.handleFavorite}},[e("span",{class:{"fav-active":t.isFavorite}},[e("a-icon",{attrs:{type:"star",theme:t.isFavorite?"filled":"outlined"}}),t._v(" "+t._s(t.isFavorite?t.$t("item_details_del_favorite"):t.$t("item_details_add_favorite"))+" ")],1)])])],1)]),e("PastInfo",{attrs:{pastInfo:t.itemInfo.past_info}})],1),e("div",{staticClass:"props-content"},[e("div",{staticStyle:{"border-bottom":"1px solid rgba(0, 0, 0, 0.08)"}},[e("div",{staticClass:"seller-info"},[e("img",{staticClass:"seller-icon",attrs:{src:t.itemInfo.icon,alt:""}}),e("a",{staticClass:"seller-title",attrs:{href:t.sellerInfo.zhuy,target:"_blank"}},[t._v(t._s(t.sellerInfo.shop_name))]),e("el-tooltip",{attrs:{placement:"right","popper-class":"seller-tooltip",effect:"light"}},[e("router-link",{staticClass:"seller-btn",attrs:{to:{path:"/item/store",query:{url:t.sellerInfo.zhuy}},target:"_blank"}},[t._v(" "+t._s(t.$t("item_details_enter_shop"))+" ")]),e("template",{slot:"content"},[e("span",[t._v(t._s(t.$t("item_details_enter_shop_tooltip")))])])],2)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.itemInfo.warm_reminder,expression:"itemInfo.warm_reminder"}],staticClass:"warm-reminder"},[e("a-icon",{attrs:{type:"exclamation-circle"}}),t._v(" "+t._s(t.itemInfo.warm_reminder)+" ")],1)]),e("div",{staticClass:"item-header"},[e("div",{staticClass:"item-main-title"},[e("span",{staticClass:"item-title"},[t._v(t._s(t.itemInfo.trans_title[t.sellerLang]))]),e("button",{staticClass:"refresh-btn",on:{click:function(e){return t.getItem(1)}}},[e("a-icon",{attrs:{type:"reload"}}),t._v(" "+t._s(t.$t("item_details_refresh"))+" ")],1)]),e("p",{staticClass:"price"},[t.itemInfo.goods_discount_info&&t.itemInfo.goods_discount_info.discount?e("DiscountPrice",{attrs:{itemInfo:t.itemInfo,curSym:t.curSym,currentSku:t.currentSku}}):e("span",{staticClass:"sku-price"},[t._v(" CNY ￥"+t._s(t.currentSku.display_price||t.itemInfo.display_price)+" "),e("span",{directives:[{name:"show",rawName:"v-show",value:"CNY"!==t.cur,expression:"cur !== 'CNY'"}]},[t._v(" ≈ "+t._s(t.curSym)+" "+t._s(t.currentSku.cur_display_price||t.itemInfo.cur_display_price)+" ")])]),t.itemInfo.goods_discount_info&&t.itemInfo.goods_discount_info.discount||t.itemInfo.send_discount_info&&t.itemInfo.send_discount_info.discount?e("DiscountItem",{attrs:{goodsDiscountInfo:t.itemInfo.goods_discount_info,sendDiscountInfo:t.itemInfo.send_discount_info,curSym:t.curSym,curSendMoney:this.currentSku.cur_send_discount_money||this.itemInfo.cur_send_discount_money}}):t._e()],1),e("span",{staticClass:"buy-tip"},[t._v(t._s(t.$t("item_details_buy_tip")))])]),e("div",{staticClass:"item-freight"},[e("div",{staticClass:"item_youks"},[e("span",[t._v(" "+t._s(t.$t("Source_product"))+" :")]),e("span",{staticClass:"flag_cny"},[e("a",{staticClass:"seller-url",attrs:{href:t.itemInfo.detail_url,target:"_blank"}},[e("a-icon",{attrs:{type:"link"}}),t._v(t._s(t.itemInfo.platform_name)+" ")],1)]),e("span",[t._v(" "+t._s(t.$t("Hagobuyto_purchase"))+" ")])]),e("div",{staticClass:"item-freight-warehouse"},[e("a-badge",{staticClass:"badge-sort",attrs:{count:"1"}}),e("span",[t._v(t._s(t.$t("Seller_delivery")))]),e("em",{staticClass:"el-icon-caret-right"}),e("span",[t._v(t._s(t.$t("Hagobuy_certified_warehouse")))]),e("span",{staticClass:"iconfont icon-huaban icons_car"}),e("span",{staticClass:"table_send_fee"},[t._v(t._s(t.$t("center_my_pack_table_send_fee")))]),e("el-input",{staticClass:"freight-input",attrs:{placeholder:t.$t("input_free"),size:"mini"},on:{input:function(e){t.postFee=t.postFee.replace(/[^0-9.]/g,"").replace(/^(\-)*(\d+)\.(\d{1,2}).*$/,"$1$2.$3")}},model:{value:t.postFee,callback:function(e){t.postFee=e},expression:"postFee"}}),t._v(" CNY ")],1),e("div",{staticClass:"item-freight-estimate"},[e("a-badge",{staticClass:"badge-sort",attrs:{count:"2"}}),t._v(" "+t._s(t.$t("free_span_div_sd"))+" "),e("em",{staticClass:"el-icon-caret-right"}),t._v(" "+t._s(t.$t("Your_address"))+" "),e("router-link",{staticClass:"bade_link",attrs:{to:"/tools/estimate",target:"_blank"}},[t._v(t._s(t.$t("item_details_post_fee2_span2")))])],1)]),e("div",{staticClass:"item-props"},t._l(t.propsMapArray,(function(s,i){return e("div",{key:i,staticClass:"row"},[e("div",{staticClass:"title"},[t._v(" "+t._s(s["k_name_"+t.sellerLang])+" : "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.currentPropsName[s.k_id],expression:"currentPropsName[item.k_id]"}],staticClass:"values-name"},[t._v(t._s(t.vName))])]),e("div",{staticClass:"specItem"},t._l(s.values,(function(a,r){return e("div",{key:r,staticClass:"item",class:[{select:a.isSelected},{disabled:t.judgedDisabled(a,r,s,i)}],on:{click:function(e){return t.handleItem(a,r,s,i)}}},[e("div",{staticClass:"spec",attrs:{title:a["v_name_"+t.sellerLang]}},[t.propImageMap[a.kv_id]?e("el-image",{staticClass:"props-image",attrs:{src:t.propImageMap[a.kv_id],fit:"fill",alt:""}}):t._e(),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.propImageMap[a.kv_id],expression:"!propImageMap[spec.kv_id]"}]},[t._v(t._s(a["v_name_"+t.sellerLang]))])],1)])})),0)])})),0),t._e(),e("div",{staticClass:"count"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("item_details_quantity"))+" :")]),e("el-input-number",{staticStyle:{width:"230px"},attrs:{min:1,size:"small",max:Number(t.currentSku.quantity)?Number(t.currentSku.quantity):Number(t.itemInfo.num)},on:{change:t.handleGoodsNumChange},model:{value:t.goodsNum,callback:function(e){t.goodsNum=e},expression:"goodsNum"}}),0!==Object.keys(t.currentSku).length?e("div",{staticClass:"stock"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("item_details_in_stock"))+" :")]),e("span",[t._v(t._s(t.currentSku.quantity))])]):t._e()],1),e("div",{staticClass:"remark"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("item_details_remarks"))+" :")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.goodsRemark,expression:"goodsRemark"}],staticClass:"remark-input",attrs:{name:"remark",rows:"3",placeholder:"Write a message ONLY when you have special requirements regarding this order's purchasing."},domProps:{value:t.goodsRemark},on:{input:function(e){e.target.composing||(t.goodsRemark=e.target.value)}}})]),e("div",{staticClass:"statement"},[e("p",{staticClass:"statement-desc-top"},[t._v(" HagoBuy will only purchase for you according to the link you enter. If you have any doubts regarding your orders, reach out to our online service. ")]),e("p",{staticClass:"statement-desc-bottom"},[t._v(" The displayed products are from third-party platforms, and HagoBuy only provides information search, purchasing, and delivery services. Therefore, HagoBuy cannot identify the quality and/or authenticity of the goods, and using HagoBuy's purchasing service means you accept the above risks by default. ")]),e("span",{staticClass:"agree-with"},[t.agreeRisk?e("a-checkbox",{model:{value:t.agreeRisk,callback:function(e){t.agreeRisk=e},expression:"agreeRisk"}},[t._v(t._s(t.$t("item_details_risk_agree")))]):e("el-tooltip",{attrs:{placement:"top"},model:{value:t.isShowToolTip,callback:function(e){t.isShowToolTip=e},expression:"isShowToolTip"}},[e("template",{slot:"content"},[e("span",[t._v(t._s(t.$t("item_details_tooltip_title")))])]),e("a-checkbox",{model:{value:t.agreeRisk,callback:function(e){t.agreeRisk=e},expression:"agreeRisk"}},[t._v(t._s(t.$t("item_details_risk_agree")))])],2)],1)]),e("div",{staticClass:"user-line"},[e("button",{staticClass:"submit-btn buy-btn",class:t.isAddCarting?"disabled":"",on:{click:function(e){return t.buyNow()}}},[t._v(" "+t._s(t.$t("item_details_buy"))+" ")]),e("button",{staticClass:"cancel-btn buy-btn",class:t.isAddCarting?"disabled":"",on:{click:function(e){return t.handleToCart(!1)}}},[t._v(" "+t._s(t.$t("item_details_add_cart"))+" ")])]),e("QcGroup",{attrs:{"qc-group":t.itemInfo.qc_group,"limit-point":t.itemInfo.qc_limit_points,"qc-count":t.itemInfo.qc_group_count}})],1)]),0!==t.shopList.length?e("shopGoods",{attrs:{shopList:t.shopList,curSym:t.curSym}}):t._e(),e("a-modal",{staticClass:"risk-modal",attrs:{centered:"",destroyOnClose:"",footer:null},model:{value:t.showRisk,callback:function(e){t.showRisk=e},expression:"showRisk"}},[e("div",{staticClass:"risk-title-box"},[e("p",{staticClass:"risk-title"},[t._v("Risk Reminder")]),e("p",{staticClass:"risk-tip"},[t._v(" Products submitted might have "),e("span",{staticClass:"risk-num"},[t._v(t._s(t.riskArr.length))]),t._v(" risk(s), we suggest you read the risks and think before ordering ")])]),e("div",{staticClass:"risk-body",attrs:{id:"limit"}},[e("p",{staticStyle:{"font-weight":"700",color:"black"}},[t._v("Brand products")]),t._l(t.riskArr,(function(s){return e("p",{key:s,staticClass:"body-p"},[t._v(t._s(s))])})),e("p",{staticClass:"wordwrap"},[t._v(" Sorry, credit card payment and paypal payment are not available for the products or the store you choose because of brand copyright. ")]),e("div",{staticClass:"risk-footer"},[e("button",{staticClass:"risk-footer-btn",on:{click:t.handleConfirmRisks}},[e("span",[t._v("I have read and willing to take all the risks")])]),e("div",{staticClass:"risk-no-tip"},[e("a-checkbox",{model:{value:t.tipChecked,callback:function(e){t.tipChecked=e},expression:"tipChecked"}},[t._v("Don't remind the checked contents today")])],1)])],2)])],1)}),o=[],n=(s("e9f5"),s("910d"),s("f665"),s("7d54"),s("ab43"),s("e9c4"),s("5087"),s("2f94")),l=s("2166"),c=s("c40e"),d=s("9b95"),u=s("cc33"),p=s("3de1"),m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"shop-list"},[e("a-divider"),e("p",{staticClass:"shop-recommend"},[t._v(t._s(t.$t("item_details_goods_store")))]),e("div",{staticClass:"swiper"},[e("div",{staticClass:"swiper-container",style:t.transition},t._l(t.shopList,(function(s,i){return e("div",{key:i,staticClass:"goods-card",on:{click:function(e){return t.routeGoodsItem(s.goodsurl)}}},[e("img",{staticClass:"goods-img",attrs:{src:s.goodsimg,alt:""}}),e("span",{staticClass:"goods-name ellipsis2"},[t._v(t._s(s.goodsname))]),e("span",{staticClass:"goods-price"},[t._v(" "+t._s(t.curSym)+t._s(s.cur_goodsprice)+" ")])])})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:t.shopList.length>t.cartNum,expression:"shopList.length > cartNum"}],staticClass:"swiper-button-prev button-position",on:{click:function(e){return e.stopPropagation(),t.swiperSwitch("prev")}}},[e("a-icon",{attrs:{type:"left"}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.shopList.length>t.cartNum,expression:"shopList.length > cartNum"}],staticClass:"swiper-button-next button-position",on:{click:function(e){return e.stopPropagation(),t.swiperSwitch("next")}}},[e("a-icon",{attrs:{type:"right"}})],1)])],1)},h=[],_={props:["shopList","curSym"],data(){return{currentIndex:0,durationTime:0}},computed:{cartNum(){return 6},listMap(){let t={},e=["shopList","collectList"];return e.forEach(e=>{this[e]&&(t[e]=this[e])}),t},transition(){let t=200,e=this.currentIndex*t,s=`transform: translate3d(-${e}px, 0px, 0px); transition-duration: ${this.durationTime}ms;`;return s}},watch:{currentIndex(){0===this.durationTime&&this.transitionTime()}},methods:{routeGoodsItem(t){let e=this.$router.resolve({path:"/item/details",query:{url:t}});window.open(e.href,"_blank")},swiperSwitch(t){"prev"===t&&this.currentIndex>0?this.currentIndex-=1:"next"===t&&this.currentIndex+this.cartNum<this.shopList.length&&(this.currentIndex+=1)},transitionTime(){this.durationTime=300,setTimeout(()=>{this.durationTime=0},300)}}},g=_,f=(s("65b0"),s("2877")),v=Object(f["a"])(g,m,h,!1,null,"2b77a3e2",null),y=v.exports,k=function(){var t=this,e=t._self._c;return e("div",{staticClass:"discount"},[e("div",{staticClass:"price-detail"},[e("div",{staticClass:"price"},[e("span",{staticClass:"sku-price"},[t._v(" CNY ￥"+t._s(t.currentSku.display_price||t.itemInfo.display_price)+" "),e("span",{directives:[{name:"show",rawName:"v-show",value:"CNY"!==t.cur,expression:"cur !== 'CNY'"}]},[t._v(" ≈ "+t._s(t.curSym)+" "+t._s(t.currentSku.cur_display_price||t.itemInfo.cur_display_price)+" ")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.itemInfo.goods_discount_info&&t.itemInfo.goods_discount_info.discount,expression:"itemInfo.goods_discount_info && itemInfo.goods_discount_info.discount"}],staticClass:"discount-price"},[t._v(" CNY ￥"+t._s(t.currentSku.price||t.itemInfo.price)+" "),e("span",{directives:[{name:"show",rawName:"v-show",value:"CNY"!==t.cur,expression:"cur !== 'CNY'"}]},[t._v(" ≈ "+t._s(t.curSym)+" "+t._s(t.currentSku.cur_price||t.itemInfo.cur_price)+" ")])])]),Object.keys(t.content).length&&t.itemInfo.goods_discount_info&&t.itemInfo.goods_discount_info.discount?e("div",{staticClass:"remaining-time"},[e("div",{staticClass:"tip_time"},[t._v(t._s(t.$t("item_details_discount_time")))]),e("span",{staticClass:"remaining-time-data"},[t._v(t._s(t.content.day))]),t._v(" : "),e("span",{staticClass:"remaining-time-data"},[t._v(t._s(t.content.hour))]),t._v(" : "),e("span",{staticClass:"remaining-time-data"},[t._v(t._s(t.content.min))]),t._v(" : "),e("span",{staticClass:"remaining-time-data"},[t._v(t._s(t.content.sec))])]):t._e()])])},b=[],C=s("2f62"),I={props:["itemInfo","curSym","currentSku"],data(){return{that:this,content:{}}},computed:{...Object(C["d"])(["cur"]),curSendMoney(){return this.currentSku.cur_send_discount_money||this.itemInfo.cur_send_discount_money}},filters:{numPercent(t){return 100*Number(t)+"%"}},mounted(){this.$nextTick(()=>{this.content=this.transTime(this.itemInfo.goods_discount_info.countdown),this.countdowm(this.itemInfo.goods_discount_info.countdown)})},methods:{countdowm(t){let e=this,s=setInterval((function(){t-=1;let i=e.transTime(t);t>=0?e.content=i:(e.content={},window.clearInterval(s))}),1e3)},transTime(t){if(t<=0)return{};let e=Math.floor(t/86400),s=Math.floor((t-24*e*3600)/3600),i=Math.floor((t-24*e*3600-60*s*60)/60),a=t-24*e*3600-60*s*60-60*i,r={day:e,hour:s,min:i,sec:a};for(let o in r)if(r.hasOwnProperty(o)){let t=r[o];t=t<10?"0"+t:t,r[o]=t}return r}}},w=I,S=(s("5a17"),Object(f["a"])(w,k,b,!1,null,"7ab4353c",null)),$=S.exports,x=s("20d8"),T=function(){var t=this,e=t._self._c;return t.pastInfo?e("div",{staticClass:"past-info"},[e("div",{staticClass:"past-item"},[t._v(" "+t._s(t.$t("item_details_arrival_day"))+": "),e("span",[t._v(t._s(t.pastInfo.arrival_days)+t._s(t.$t("item_details_day")))])]),e("div",{staticClass:"past-item"},[t._v(" "+t._s(t.$t("item_details_weight"))+"(g): "),e("span",[t._v(t._s(t.pastInfo.weight))])]),e("div",{staticClass:"past-item"},[t._v(" "+t._s(t.$t("item_details_volume"))+"(cm³): "),e("span",[t._v(t._s(t.pastInfo.length)+"*"+t._s(t.pastInfo.width)+"*"+t._s(t.pastInfo.height))])]),t.pastInfo.un_weight?[e("div",{staticClass:"past-item"},[t._v(" "+t._s(t.$t("item_details_un_weight"))+"(g): "),e("span",[t._v(t._s(t.pastInfo.un_weight))])]),e("div",{staticClass:"past-item"},[t._v(" "+t._s(t.$t("item_details_un_volume"))+"(cm³): "),e("span",[t._v(t._s(t.pastInfo.un_length)+"*"+t._s(t.pastInfo.un_width)+"*"+t._s(t.pastInfo.un_height))])])]:t._e()],2):t._e()},F=[],N={props:["pastInfo"]},O=N,j=(s("77fa"),Object(f["a"])(O,T,F,!1,null,"414226d6",null)),L=j.exports,A=function(){var t=this,e=t._self._c;return t.qcCount>0?e("div",{staticClass:"qc-picture"},[t.qcGroup&&t.qcGroup.length?[e("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("Commodity_reference_map"))+": ")]),e("div",{staticClass:"qc-group"},t._l(t.qcGroup,(function(t){return e("div",{key:t.mask_id,staticClass:"qc-item"},[e("el-image",{staticClass:"preview-img",attrs:{src:t.qc_list[0]["image"]+(-1!==t.qc_list[0]["image"].indexOf("?")?"&":"?")+"x-oss-process=style/wh200",lazy:"","preview-src-list":t.qc_list.map(t=>t.image),fit:"fill"}})],1)})),0)]:e("div",{staticClass:"permission-prompt"},[e("i18n",{attrs:{path:"item_details_qc_tip",tag:"span"}},[e("span",{attrs:{slot:"point"},slot:"point"},[t._v(t._s(t.limitPoint))])])],1)],2):t._e()},P=[],q={props:{qcGroup:{type:Array,default:()=>[]},limitPoint:0,qcCount:0},data(){return{}},computed:{},mounted(){},methods:{}},R=q,E=(s("63fe"),Object(f["a"])(R,A,P,!1,null,"a8a8cd88",null)),D=E.exports,B=s("7c8d"),U=s.n(B);async function M(t){const e=await fetch(t),s=await e.blob();return s}async function G(t){try{const e=await M(t);return new Promise((t,s)=>{new U.a(e,{quality:.95,success(e){const s=new FileReader;s.readAsDataURL(e),s.onloadend=()=>t(s.result)},error(t){s(t)}})})}catch(e){throw e}}var z={name:"Sku",props:{itemInfo:{type:Object,default:()=>({})},getItem:{type:Function,default:null}},components:{shopGoods:y,DiscountPrice:$,DiscountItem:x["a"],PastInfo:L,QcGroup:D},data(){return{timerId:null,sellerLang:"trans",propsMapArray:[],currentImg:"",goodsImg:"",qcGroup:[],skuname:"",curSym:"",postFee:"",shopList:[],itemImages:[],propImageMap:[],skuList:[],currentPropsName:{},goodsNum:1,goodsRemark:"",riskArr:[],showRisk:!1,agreeRisk:!1,isShowToolTip:!1,isAddCarting:!1,tipChecked:!1,affiliateLoading:!1,handleFavoriteLoading:!1,isFavorite:0,sellerInfo:{}}},watch:{agreeRisk(t){Object(u["i"])(u["a"].AGREE_RISK,t)}},computed:{cur(){return Object(u["c"])(u["a"].cur)},currentSku(){let t=this.skuList,e=this.propsMapArray,s={};const i=e.map(t=>{const e=t.values.filter(t=>t.isSelected);if(0!==e.length){const{kv_id:t}=e[0];return t}return""}).join(";");return t?(t[i]&&(s=t[i]),s):{}},vName(){let t=Object.values(this.currentPropsName),e=t.find(t=>this.propImageMap[t.kv_id]);return e?e["v_name_"+this.sellerLang]:""},itemImagesArr(){let t=[];return this.itemImages.forEach(e=>{t.push(e.url)}),t},preViewImgList(){let t=[];return t.push(this.currentImg),t}},mounted(){this.analysisItem();const t=Object(u["c"])(u["a"].AGREE_RISK);"AGREE_RISK"!==t&&null!==t&&(this.agreeRisk="true"===t)},methods:{...Object(C["d"])({searchImage:t=>t.shop.searchImage}),...Object(C["c"])({setState:"shop/setState"}),async handleFindSimilarity(){if(!this.itemInfo)return;let t=this.itemInfo.pic_url;try{const e=await G(t);e&&(Object(u["j"])(u["a"].SEARCH_BASE64_IMAGE,e),this.setState({key:"searchImage",value:e}))}catch(e){}this.$router.push({path:"/item/shop",query:{type:"img"}})},handleGoodsNumChange(t){clearTimeout(this.timerId),this.timerId=setTimeout(()=>{const e="1688"===this.itemInfo.api_type;if(t>1&&e){const e={num:t,tid:this.itemInfo.num_iid};Object(c["f"])(e).then(t=>{this.postFee=t.data.rmb_post_fee})}else 1==t&&e&&(this.postFee=this.itemInfo.post_fee)},500)},analysisItem(){var t;if(!this.itemInfo)return;let e=this.itemInfo;this.itemImages=e.item_imgs,this.currentImg=(null===(t=this.itemImages[0])||void 0===t?void 0:t.url)||"",this.qcGroup=e.qc_group,this.sellerInfo=e.seller_info,this.shopList=e.shop_goods_list||[],this.propImageMap=e.props_img,this.curSym=e.cur_sym,this.isFavorite=e.favorite,this.propsMapArray=e.props_group,0!==e.post_fee?this.postFee=e.post_fee:this.postFee="",e.risk_arr&&(this.riskArr=e.risk_arr),this.parseSkuList(e.skus.sku),this.parsePropsMapToList(this.propsMapArray),this.riskTips(),this.showHbConfig(),this.$forceUpdate()},parseSkuList(t){if(!t)return;const e={};t.forEach(t=>{e[t.properties]=t}),this.skuList=e},parsePropsMapToList(t){const e=(t,s,i)=>{if(!s||0===s.length)return{first:t,pName:i};const a=s.shift(),{values:r,k_name_zh:o}=a,n=[],l=[];return 0===t.length?(r.forEach(t=>{const{kv_id:e,v_name_zh:s}=t;n.push(e),l.push(`${e}:${o}:${s}`)}),e(n,s,l)):(t.forEach((t,e)=>{r.forEach(s=>{const{kv_id:a,v_name_zh:r}=s,c=`${t};${a}`,d=`${i[e]};${a}:${o}:${r}`;n.push(c),l.push(d)})}),e(n,s,l))},s=e([],JSON.parse(JSON.stringify(t)),[]),{first:i,pName:a}=s;i.forEach((t,e)=>{this.skuList[t]||(this.skuList[t]={price:0,orginal_price:0,properties:t,properties_name:a[e],quantity:0,sku_id:0,sku_url:""})}),this.processFindNotStockData(this.propsMapArray)},processFindNotStockData(t){if(!t)return;const e=Object.values(this.skuList);t.forEach((t,s)=>{t.values.forEach(t=>{const{kv_id:s}=t;e.filter(t=>t.properties.indexOf(s)>=0).forEach(e=>{const{properties:s,quantity:i}=e;0===Number(i)&&(t.noStockSkuMap||(t.noStockSkuMap={}),t.noStockSkuMap[s]=i)})})})},switchPreImg(t){this.currentImg=t},handleItem(t,e,s,i){if(t.isSelected)return this.clearSkuDefined(),this.$set(t,"isSelected",!1),void(this.propImageMap[t.kv_id]&&(this.currentPropsName={}));if(0===t._quantity||t.isSelected)return;let a=s.values;this.propImageMap[t.kv_id]&&(this.currentImg=this.propImageMap[t.kv_id],this.goodsImg=this.propImageMap[t.kv_id],this.$set(this.currentPropsName,s.k_id,t)),this.clearSkuDefined();for(const o in a)a[o].isSelected&&(a[o].isSelected=!a[o].isSelected);this.goodsNum=1;const r="1688"===this.itemInfo.api_type;r&&(this.postFee=this.itemInfo.post_fee),this.$set(t,"isSelected",!0),this.$forceUpdate()},clearSkuDefined(t){(t||this.propsMapArray).forEach(t=>{t.values.forEach(t=>{delete t._quantity})})},judgedDisabled(t,e,s,i){if(!this.propsMapArray||0===s.values.length||t.isSelected)return!1;const{noStockSkuMap:a,kv_id:r}=t;if(!a)return!1;let o="",n=this.getSelectedSkus();n[i]=r,o=n.join(";");let l=0;return Object.keys(a).forEach(t=>{o===t&&(l+=1)}),l>0&&(t._quantity=0,!0)},getSelectedSkus(){var t=[];return this.propsMapArray.forEach((e,s)=>{t[s]="-",e.values.forEach(e=>{if(e.isSelected)return t[s]=e.kv_id,!1})}),t},riskTips(){if(!this.itemInfo)return;if(!this.riskArr||0===this.riskArr.length)return;let t=Object(u["c"])(u["a"].risktip),e=t?JSON.parse(t):"";if(e){let t=Math.round(Date.parse(new Date)/1e3),s=e.endTime||null;null!==s&&t>=s&&(window.localStorage.clear("risktip"),e=null)}null!==e&&void 0!==e.show||(this.showRisk=!0)},handleConfirmRisks(){if(this.tipChecked){let t={};t.endTime=Math.round(Date.parse(new Date)/1e3)+86400,t.show=this.tipChecked,Object(u["i"])(u["a"].risktip,JSON.stringify(t))}this.showRisk=!1},showHbConfig(){if(!this.itemInfo.hb_config)return;const{type:t,title:e,desc:s}=this.itemInfo.hb_config;switch(t){case 2:this.$error({title:e,content:s,okType:"danger",okText:this.$t("confirm_ok_text"),autoFocusButton:null,centered:!0});break;case 1:this.$warning({title:e,content:s,okType:"danger",okText:this.$t("confirm_ok_text"),autoFocusButton:null,centered:!0});break;default:break}},buyNow(){this.$store.dispatch("needToken").then(()=>{this.handleToCart(!0)})},async handleToCart(t){this.$message.destroy();const{detail_url:e,trans_title:s,post_fee:i,pic_url:a,price:r}=this.itemInfo,{shop_name:o,zhuy:n,nick:c}=this.sellerInfo,{price:d,sku_id:m,properties:h,spec_id:_}=this.currentSku||{};if(0!==this.itemInfo.skus.sku.length&&(!h||!m))return void this.$message.warning("Please select category");if(await this.praseSkuName(this.currentSku.properties_name),!this.agreeRisk)return void(this.isShowToolTip=!0);if(this.isAddCarting)return;this.isAddCarting=!0;let g={cur:this.cur,goodsname:s.zh,goodsprice:d||r,api_sendprice:i||0,sendprice:this.postFee||0,goodsnum:this.goodsNum,goodsurl:e,goodsimg:this.goodsImg||a,goodsseller:o||c,sellerurl:n||"",sku_id:m,spec_id:_||"",goodsremark:this.goodsRemark,quickbuy:t?2:1,risk:0!==this.riskArr.length?1:0,result:0,skuname:this.skuname,goodssite:this.itemInfo.api_type,stock:this.currentSku.quantity||this.itemInfo.num};Object(l["a"])(g).then(t=>{let e=t.data;if(e.hasOwnProperty("count")&&(this.$store.commit("CART_COUNT",e.count),this.$message.success("Add to cart successfully"),this.isAddCarting=!1),e.hasOwnProperty("cart_id")){let t=[e.cart_id];if(0===t.length)return void(this.isAddCarting=!1);let s=p["a"].randomCharacter();Object(u["j"])(s,JSON.stringify(t)),this.$router.push({path:"/carttoorder",query:{csk:s}})}}).catch(t=>{this.isAddCarting=!1})},praseSkuName(t){if(!t||null===t)return void(this.skuname="");let e=t,s=e.split(";"),i=[];s.forEach(t=>{let e=t.split(":");i.push(`${e[2]}:${e[3]}`)}),this.skuname=i.join(";")},affiliateShare(t){const e=this.itemInfo.api_type,s=this.itemInfo.num_iid,i={tp:e,tid:s};this.$store.dispatch("needToken").then(()=>{this.affiliateLoading=!0,Object(d["c"])(i).then(e=>{this.$message.destroy();const s=e.data.list[0].share_url;this.affiliateLoading=!1,p["a"].copyValue(s,t).then(t=>{this.$message.success("Link copied, please paste it and send it to your friend and become your invited user.")}).catch(()=>{this.$message.warning("Replication failure")})}).catch(t=>{this.affiliateLoading=!1})})},handleFavorite(){this.$store.dispatch("needToken").then(()=>{this.$message.destroy(),this.handleFavoriteLoading=!0,this.isFavorite?this.cancelFav():this.addFav()})},addFav(){const{detail_url:t,trans_title:e,pic_url:s,price:i}=this.itemInfo,{shop_name:a,zhuy:r,nick:o}=this.sellerInfo;let n={goodsurl:t,goodsname:e.zh,goodsprice:i,goodsimg:this.goodsImg||s,goodsseller:a||o,sellerurl:r,goodssite:this.itemInfo.api_type,cur:this.cur};Object(c["b"])(n).then(t=>{this.$message.success("Successful collection"),this.handleFavoriteLoading=!1,this.isFavorite=!this.isFavorite}).catch(()=>{this.handleFavoriteLoading=!1})},cancelFav(){let t={goodsurl:this.itemInfo.detail_url,cur:this.cur};Object(c["c"])(t).then(t=>{this.$message.success("Unbookmark success"),this.isFavorite=!this.isFavorite,this.handleFavoriteLoading=!1}).catch(()=>{this.handleFavoriteLoading=!1})}}},H=z,Y=(s("728c"),Object(f["a"])(H,r,o,!1,null,"ec78b2b2",null)),K=Y.exports,V=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"seller"}},[e("div",{staticClass:"seller-box"},[e("div",{staticClass:"seller-info",class:{isFixed:t.isFixed}},[e("a-tabs",{staticClass:"tabs",attrs:{animated:!1}},[e("a-tab-pane",{key:"1",attrs:{tab:t.$t("item_details_tab1")}},[e("div",{staticClass:"props-desc"},[e("div",{staticClass:"props-html"},[e("div",{domProps:{innerHTML:t._s(t.itemInfo.trans_desc[t.sellerLang])}})])])]),t._e(),e("a-tab-pane",{key:"3",attrs:{tab:t.$t("item_details_tab4")}},[e("div",{staticClass:"shop-notes"},[e("h3",[t._v(t._s(t.$t("item_details_shop_note_embargo")))]),e("p",[t._v(t._s(t.$t("item_details_shop_note_embargo_span1")))]),e("p",[t._v(t._s(t.$t("item_details_shop_note_embargo_span2")))]),e("div",{staticClass:"img-box"},t._l(t.embargoImg,(function(t){return e("img",{key:t,attrs:{src:t,index:t,alt:""}})})),0),e("h3",[t._v(t._s(t.$t("item_details_shop_note_restriction")))]),e("p",[t._v(t._s(t.$t("item_details_shop_note_restriction_span"))+" "),e("button",{staticClass:"service",on:{click:t.tawkToService}},[t._v(t._s(t.$t("item_details_shop_note_restriction_service")))])]),e("div",{staticClass:"img-box"},t._l(t.purchaseImg,(function(t){return e("img",{key:t,attrs:{src:t,index:t,alt:""}})})),0),e("h3",[t._v(t._s(t.$t("item_details_shop_note_warm")))]),e("p",[t._v(t._s(t.$t("item_details_shop_note_warm_span")))])])]),e("a-tab-pane",{key:"4",attrs:{tab:t.$t("item_details_tab3")}},[e("div",{staticClass:"distrib-pay"},[e("p",[e("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("   "),e("span",[t._v(t._s(t.$t("item_details_delivery_span1")))])]),e("ul",[e("li",[t._v(t._s(t.$t("item_details_delivery_span2")))]),e("i18n",{attrs:{path:"item_details_delivery_span3",tag:"li"}},[e("router-link",{attrs:{slot:"shop",to:"/index/information?information_id=12",target:"_blank"},slot:"shop"},[t._v(t._s(t.$t("item_details_delivery_span3_shop")))]),e("router-link",{attrs:{slot:"estimate",to:"/tools/estimate",target:"_blank"},slot:"estimate"},[t._v(t._s(t.$t("item_details_delivery_span3_estimate")))])],1)],1)])])],1)],1)])])},Q=[],J={name:"Seller",props:{itemInfo:{type:Object,default:()=>({})}},data(){return{sellerLang:"trans",isFixed:!1}},computed:{sellerProps(){let t=[];return t=this.itemInfo.trans_props[this.sellerLang],t},embargoImg(){let t=[this.$store.state.imageUrl+"/img_seller_smoke.png",this.$store.state.imageUrl+"/img_seller_knife.png"];return t},purchaseImg(){let t=[this.$store.state.imageUrl+"/img_seller_medicine.png",this.$store.state.imageUrl+"/img_seller_liquid.png",this.$store.state.imageUrl+"/img_seller_cosmetic.png",this.$store.state.imageUrl+"/img_seller_paste_goods.png"];return t}},mounted(){window.addEventListener("scroll",this.handleScroll)},methods:{handleScroll(){let t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=document.querySelector("#seller").offsetTop||0;this.isFixed=t>e},tawkToService(){window.tawkMessenger.toggle()}},destroyed(){window.removeEventListener("scroll",this.handleScroll)}},W=J,X=(s("57d6"),Object(f["a"])(W,V,Q,!1,null,"12304f50",null)),Z=X.exports,tt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"sku"}},[e("div",{staticClass:"sku-content"},[e("div",{staticClass:"prop-imgs"},[e("div",{staticClass:"jqzoom"},[e("el-image",{staticClass:"preview-img",attrs:{src:t.currentImg,lazy:"","preview-src-list":t.itemImages.indexOf(t.currentImg)>-1?t.itemImages:t.preViewImgList}})],1),e("div",{staticClass:"item-imgs"},[e("ul",{staticClass:"item-imgs-box"},t._l(t.itemImages,(function(s){return e("li",{key:s,staticClass:"item-img",class:{"item-img-selected":t.currentImg===s}},[e("img",{attrs:{src:s,alt:"Load failure"},on:{click:function(e){return t.switchPreImg(s)}}})])})),0)]),e("div",{staticClass:"add-this"},[e("p",{staticClass:"sales"},[t._v(" "+t._s(t.$t("item_details_sales"))+"："+t._s(t.itemInfo.qualityDetail?t.itemInfo.qualityDetail.purchasingVolume:0)+" ")]),e("div",{staticClass:"share-fav"},[e("a-spin",{attrs:{spinning:t.affiliateLoading}},[e("div",{staticClass:"share",on:{click:function(e){return t.affiliateShare(e)}}},[e("a-icon",{attrs:{type:"share-alt"}}),t._v(" "+t._s(t.$t("item_details_share"))+" ")],1)]),e("a-spin",{attrs:{spinning:t.handleFavoriteLoading}},[e("div",{staticClass:"favorite",on:{click:t.handleFavorite}},[e("span",{class:{"fav-active":t.isFavorite}},[e("a-icon",{attrs:{type:"star",theme:t.isFavorite?"filled":"outlined"}}),t._v(" "+t._s(t.isFavorite?t.$t("item_details_del_favorite"):t.$t("item_details_add_favorite"))+" ")],1)])])],1)]),e("PastInfo",{attrs:{pastInfo:t.itemInfo.past_info}})],1),e("div",{staticClass:"props-content"},[e("div",{staticStyle:{"border-bottom":"1px solid rgba(0,0,0,0.08)"}},[e("div",{staticClass:"seller-info"},[e("img",{staticClass:"seller-icon",attrs:{src:t.sellerInfo.sourceIcon,alt:""}}),e("a",{staticClass:"seller-title",attrs:{href:t.sellerInfo.shopUrl,target:"_blank"}},[t._v(t._s(t.sellerInfo.shopName))]),e("el-tooltip",{attrs:{placement:"right","popper-class":"seller-tooltip",effect:"light"}},[e("router-link",{staticClass:"seller-btn",attrs:{to:{path:"/item/store",query:{url:t.sellerInfo.shopUrl}},target:"_blank"}},[t._v(" "+t._s(t.$t("item_details_enter_shop"))+" ")]),e("template",{slot:"content"},[e("span",[t._v(t._s(t.$t("item_details_enter_shop_tooltip")))])])],2)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.itemInfo.warm_reminder,expression:"itemInfo.warm_reminder"}],staticClass:"warm-reminder"},[e("a-icon",{attrs:{type:"exclamation-circle"}}),t._v(" "+t._s(t.itemInfo.warm_reminder)+" ")],1)]),e("div",{staticClass:"item-header"},[e("div",{staticClass:"item-main-title"},[e("span",{staticClass:"item-title"},[t._v(t._s(t.itemInfo.goodsNameTrans))]),e("a",{staticClass:"seller-url",attrs:{href:t.itemInfo.goodsLink,target:"_blank"}},[e("a-icon",{attrs:{type:"link"}}),t._v(t._s(t.$t("item_details_product_link"))+" ")],1),e("button",{staticClass:"refresh-btn",on:{click:t.refreshItem}},[e("a-icon",{attrs:{type:"reload"}}),t._v(" "+t._s(t.$t("item_details_refresh"))+" ")],1)]),e("p",{staticClass:"price"},[t.itemInfo.goods_discount_info?e("DiscountPrice",{attrs:{itemInfo:t.itemInfo,curSym:t.curSym,currentSku:t.selectedSku}}):e("span",{staticClass:"sku-price"},[t._v(" CNY ￥"+t._s(t.selectedSku?t.selectedSku.price.price:t.itemInfo.display_price)+" "),e("span",{directives:[{name:"show",rawName:"v-show",value:"CNY"!==t.cur,expression:"cur !== 'CNY'"}]},[t._v(" ≈ "+t._s(t.curSym)+" "+t._s(t.selectedSku?t.selectedSku.price.priceCurrency:t.itemInfo.cur_display_price)+" ")])])],1),e("span",{staticClass:"buy-tip"},[t._v(t._s(t.$t("item_details_buy_tip")))])]),e("div",{staticClass:"item-freight"},[e("div",{staticClass:"item-freight-warehouse"},[e("a-badge",{staticClass:"badge-sort",attrs:{count:"1"}}),e("i18n",{attrs:{path:"item_details_post_fee1",tag:"span"}},[e("a-input",{staticClass:"freight-input",attrs:{slot:"post",size:"large",suffix:"CNY"},on:{input:function(e){t.freightPrice=t.freightPrice.replace(/[^0-9.]/g,"").replace(/^(\-)*(\d+)\.(\d{1,2}).*$/,"$1$2.$3")}},slot:"post",model:{value:t.freightPrice,callback:function(e){t.freightPrice="string"===typeof e?e.trim():e},expression:"freightPrice"}})],1)],1),e("div",{staticClass:"item-freight-estimate"},[e("a-badge",{staticClass:"badge-sort",attrs:{count:"2"}}),t._v(" "+t._s(t.$t("item_details_post_fee2_span1"))+" "),e("router-link",{attrs:{to:"/tools/estimate",target:"_blank"}},[t._v(t._s(t.$t("item_details_post_fee2_span2")))])],1)]),e("div",{staticClass:"item-props"},t._l(t.propGroups,(function(s){return e("div",{key:s.propId,staticClass:"row"},[e("div",{staticClass:"title"},[t._v(" "+t._s(s.propNameTrans)+" : "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.selectedProps[s.propNameTrans],expression:"selectedProps[item.propNameTrans]"}],staticClass:"values-name"},[t._v(t._s(t.selectedProps[s.propNameTrans]))])]),e("div",{staticClass:"specItem"},t._l(s.values,(function(s){return e("div",{key:s.valueId,staticClass:"item",class:[{select:t.selectedProps[s.propId]===s.valueId},{disabled:t.isPropDisabled(s)}],on:{click:function(e){return t.selectProp(s.propId,s.valueId,s)}}},[e("div",{staticClass:"spec",attrs:{title:s.valueNameTrans}},[s.imgUrl?e("el-image",{staticClass:"props-image",attrs:{src:s.imgUrl,fit:"fill",alt:""}}):t._e(),e("span",{directives:[{name:"show",rawName:"v-show",value:!s.imgUrl,expression:"!spec.imgUrl"}]},[t._v(t._s(s.valueNameTrans))])],1)])})),0)])})),0),t._e(),e("div",{staticClass:"count"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("item_details_quantity"))+" :")]),e("el-input-number",{staticStyle:{width:"230px"},attrs:{min:1,size:"small",max:t.selectedSku?Number(t.selectedSku.quantity):Number(t.repositoryInfo.quantity)},model:{value:t.goodsNum,callback:function(e){t.goodsNum=e},expression:"goodsNum"}}),t.selectedSku?e("div",{staticClass:"stock"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("item_details_in_stock"))+" :")]),e("span",[t._v(t._s(t.selectedSku.quantity))])]):t._e()],1),e("div",{staticClass:"remark"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("item_details_remarks"))+" :")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.goodsRemark,expression:"goodsRemark"}],staticClass:"remark-input",attrs:{name:"remark",rows:"3",placeholder:"Write a message ONLY when you have special requirements regarding this order's purchasing."},domProps:{value:t.goodsRemark},on:{input:function(e){e.target.composing||(t.goodsRemark=e.target.value)}}})]),e("div",{staticClass:"statement"},[e("p",{staticClass:"statement-desc-top"},[t._v(t._s(t.$t("item_details_statement_top")))]),e("p",{staticClass:"statement-desc-bottom"},[t._v(t._s(t.$t("item_details_statement_bottom")))]),e("span",{staticClass:"agree-with"},[e("el-tooltip",{attrs:{placement:"right"},model:{value:t.isShowToolTip,callback:function(e){t.isShowToolTip=e},expression:"isShowToolTip"}},[e("template",{slot:"content"},[e("span",[t._v(t._s(t.$t("item_details_tooltip_title")))])]),e("a-checkbox",{model:{value:t.agreeRisk,callback:function(e){t.agreeRisk=e},expression:"agreeRisk"}},[t._v(t._s(t.$t("item_details_risk_agree")))])],2)],1)]),e("div",{staticClass:"user-line"},[e("button",{staticClass:"submit-btn buy-btn",class:{disabled:t.isAddCarting},on:{click:function(e){return t.buyNow()}}},[t._v(t._s(t.$t("item_details_buy")))]),e("button",{staticClass:"cancel-btn buy-btn",class:{disabled:t.isAddCarting},on:{click:function(e){return t.handleToCart(!1)}}},[t._v(t._s(t.$t("item_details_add_cart")))])])])]),0!==t.shopList.length?e("shopGoods",{attrs:{shopList:t.shopList,curSym:t.curSym}}):t._e(),e("a-modal",{staticClass:"risk-modal",attrs:{centered:"",destroyOnClose:"",footer:null},model:{value:t.showRisk,callback:function(e){t.showRisk=e},expression:"showRisk"}},[e("div",{staticClass:"risk-title-box"},[e("p",{staticClass:"risk-title"},[t._v(" Risk Reminder ")]),e("p",{staticClass:"risk-tip"},[t._v(" Products submitted might have "),e("span",{staticClass:"risk-num"},[t._v(t._s(t.riskArr.length))]),t._v(" risk(s), we suggest you read the risks and think before ordering ")])]),e("div",{staticClass:"risk-body",attrs:{id:"limit"}},[e("p",{staticStyle:{"font-weight":"700",color:"black"}},[t._v("Brand products")]),t._l(t.riskArr,(function(s){return e("p",{key:s,staticClass:"body-p"},[t._v(t._s(s))])})),e("p",{staticClass:"wordwrap"},[t._v(" Sorry, credit card payment and paypal payment are not available for the products or the store you choose because of brand copyright. ")]),e("div",{staticClass:"risk-footer"},[e("button",{staticClass:"risk-footer-btn",on:{click:t.handleConfirmRisks}},[e("span",[t._v("I have read and willing to take all the risks")])]),e("div",{staticClass:"risk-no-tip"},[e("a-checkbox",{model:{value:t.tipChecked,callback:function(e){t.tipChecked=e},expression:"tipChecked"}},[t._v("Don't remind the checked contents today")])],1)])],2)])],1)},et=[],st=(s("d866"),s("a732"),{name:"Sku",props:{itemInfo:{type:Object,default:()=>({})},getItem:{type:Function,default:null},skus:{type:Array,required:!0}},components:{shopGoods:y,DiscountPrice:$,PastInfo:L},data(){return{warehouseInfo:[],currentImg:"",goodsImg:"",skuName:"",curSym:"",freightPrice:"",props:[],itemImages:[],goodsNum:1,goodsRemark:"",riskArr:[],showRisk:!1,agreeRisk:!0,isShowToolTip:!1,isAddCarting:!1,tipChecked:!1,affiliateLoading:!1,handleFavoriteLoading:!1,isFavorite:0,sellerInfo:{},selectedProps:{},shopList:[]}},computed:{lang(){return Object(u["c"])(u["a"].lang)},cur(){return Object(u["c"])(u["a"].cur)},allSkus(){const t=[...this.skus],e=this.propGroups;if(0!==t.length){const s=(i,a)=>{if(a===e.length)t.some(t=>t.props.every(t=>i.includes(t.valueId)))||t.push({props:i.map((t,s)=>({propId:e[s].propId,valueId:t,propName:e[s].propName,valueName:e[s].values.find(e=>e.valueId===t).valueName})),quantity:0,imgUrl:null,price:{priceCent:0,price:0,priceCurrency:0}});else for(const t of e[a].values)s([...i,t.valueId],a+1)};s([],0)}return t},propGroups(){const t={};for(const e of this.props)t[e.propId]||(t[e.propId]={propId:e.propId,propName:e.propName,propNameTrans:e.propNameTrans,values:[]}),t[e.propId].values.some(t=>t.valueId===e.valueId)||t[e.propId].values.push(e);return Object.values(t)},selectedSku(){const t=this.allSkus.find(t=>t.props.every(t=>this.selectedProps[t.propId]===t.valueId));return t||null},freight(){return this.itemInfo.freight||{price:0}},repositoryInfo(){return this.itemInfo.repositoryInfo||{quantity:0}},preViewImgList(){let t=[];return t.push(this.currentImg),t}},mounted(){this.analysisItem(),this.$nextTick(()=>{this.getWarehouseInfo()})},methods:{getWarehouseInfo(){Object(n["d"])().then(t=>{this.warehouseInfo=t.data.list})},refreshItem(){this.getItem(1)},analysisItem(){if(!this.itemInfo)return;let t=this.itemInfo;this.curSym=t.cur_sym,this.isFavorite=t.favorite,this.itemImages=t.mainItemImgs,this.currentImg=this.itemImages?this.itemImages[0]:"",this.sellerInfo=t.shop,this.props=t.productProps||[],this.shopList=t.shop_goods_list||[],this.freightPrice=this.freight.price,1===this.propGroups.length&&1===this.propGroups[0].values.length&&this.$set(this.selectedProps,this.propGroups[0].values[0].propId,this.propGroups[0].values[0].valueId),t.risk_arr&&(this.riskArr=t.risk_arr),this.riskTips(),this.showHbConfig(),this.$forceUpdate()},switchPreImg(t){this.currentImg=t},selectProp(t,e,s){this.isPropDisabled(s)||(this.currentImg=s.imgUrl?s.imgUrl:this.currentImg,s.imgUrl&&(this.goodsImg=s.imgUrl),this.selectedProps[t]===e?(this.$delete(this.selectedProps,t),s.imgUrl&&this.$delete(this.selectedProps,s.propNameTrans)):(this.$set(this.selectedProps,t,e),s.imgUrl&&this.$set(this.selectedProps,s.propNameTrans,s.valueNameTrans)))},isPropDisabled(t){const e={...this.selectedProps,[t.propId]:t.valueId},s=this.allSkus.find(t=>t.props.every(t=>!(t.propId in e)||e[t.propId]===t.valueId));return!s||0===s.quantity},riskTips(){if(!this.itemInfo)return;if(!this.riskArr||0===this.riskArr.length)return;let t=Object(u["c"])(u["a"].risktip),e=t?JSON.parse(t):"";if(e){let t=Math.round(Date.parse(new Date)/1e3),s=e.endTime||null;null!==s&&t>=s&&(window.localStorage.clear("risktip"),e=null)}null!==e&&void 0!==e.show||(this.showRisk=!0)},handleConfirmRisks(){if(this.tipChecked){let t={};t.endTime=Math.round(Date.parse(new Date)/1e3)+86400,t.show=this.tipChecked,Object(u["i"])(u["a"].risktip,JSON.stringify(t))}this.showRisk=!1},showHbConfig(){if(!this.itemInfo.hb_config)return;const{type:t,title:e,desc:s}=this.itemInfo.hb_config;switch(t){case 2:this.$error({title:e,content:s,okType:"danger",okText:this.$t("confirm_ok_text"),autoFocusButton:null,centered:!0});break;case 1:this.$warning({title:e,content:s,okType:"danger",okText:this.$t("confirm_ok_text"),autoFocusButton:null,centered:!0});break;default:break}},buyNow(){this.$store.dispatch("needToken").then(()=>{this.handleToCart(!0)})},async handleToCart(t){if(this.$message.destroy(),!this.repositoryInfo.quantity){let t=this;return this.$message.warning({content:t.$t("item_details_repository_quantity_empty_message")})}const{goodsLink:e,goodsName:s,freight:i,picUrl:a,proPrice:r}=this.itemInfo,{shopName:o,shopUrl:n,nick:c}=this.sellerInfo,{price:d,skuId:m,specId:h}=this.selectedSku||{};if(0!==this.skus.length&&!m)return void this.$message.warning("Please select category");if(await this.praseSkuName(this.selectedSku),!this.agreeRisk)return void(this.isShowToolTip=!0);if(this.isAddCarting)return;this.isAddCarting=!0;let _={cur:this.cur,goodsname:s,goodsprice:d?d.price:r.price,sendprice:this.freightPrice,api_sendprice:this.freight.price,goodsnum:this.goodsNum,goodsurl:e,goodsimg:this.goodsImg||a,goodsseller:o||c,sellerurl:n||"",sku_id:m,spec_id:h||"",goodsremark:this.goodsRemark,quickbuy:t?2:1,risk:0!==this.riskArr.length?1:0,result:0,skuname:this.skuName,goodssite:this.itemInfo.goodsSource};Object(l["a"])(_).then(t=>{let e=t.data;if(e.hasOwnProperty("count")&&(this.$store.commit("CART_COUNT",e.count),this.$message.success("Add to cart successfully"),this.isAddCarting=!1),e.hasOwnProperty("cart_id")){let t=[e.cart_id];if(0===t.length)return void(this.isAddCarting=!1);let s=p["a"].randomCharacter();Object(u["j"])(s,JSON.stringify(t)),this.$router.push({path:"/carttoorder",query:{csk:s}})}}).catch(t=>{this.isAddCarting=!1})},praseSkuName(t){let e=t?t.props:null;if(!e||null===e)return void(this.skuName="");let s=[];e.forEach(t=>{s.push(`${t.propName}:${t.valueName}`)}),this.skuName=s.join(";")},affiliateShare(t){const e=window.location.href,s={url:e};this.$store.dispatch("needToken").then(()=>{this.affiliateLoading=!0,Object(d["c"])(s).then(e=>{this.$message.destroy();const s=e.data.short_url;this.affiliateLoading=!1,p["a"].copyValue(s,t).then(t=>{this.$message.success("Link copied, please paste it and send it to your friend and become your invited user.")}).catch(()=>{this.$message.warning("Replication failure")})}).catch(t=>{this.affiliateLoading=!1})})},handleFavorite(){this.$store.dispatch("needToken").then(()=>{this.$message.destroy(),this.handleFavoriteLoading=!0,this.isFavorite?this.cancelFav():this.addFav()})},addFav(){const{goodsLink:t,goodsName:e,picUrl:s,proPrice:i}=this.itemInfo,{shopName:a,shopUrl:r,nick:o}=this.sellerInfo;let n={goodsurl:t,goodsname:e,goodsprice:i.price,goodsimg:this.goodsImg||s,goodsseller:a||o,sellerurl:r||"",goodssite:this.itemInfo.goodsSource,cur:this.cur};Object(c["b"])(n).then(t=>{this.$message.success("Successful collection"),this.handleFavoriteLoading=!1,this.isFavorite=!this.isFavorite}).catch(()=>{this.handleFavoriteLoading=!1})},cancelFav(){let t={goodsurl:this.itemInfo.goodsLink,cur:this.cur};Object(c["c"])(t).then(t=>{this.$message.success("Unbookmark success"),this.isFavorite=!this.isFavorite,this.handleFavoriteLoading=!1}).catch(()=>{this.handleFavoriteLoading=!1})}}}),it=st,at=(s("90f5"),Object(f["a"])(it,tt,et,!1,null,"d38ea4f8",null)),rt=at.exports,ot=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"sku"}},[e("div",{staticClass:"sku-content"},[e("div",{staticClass:"prop-imgs"},[e("div",{staticClass:"jqzoom"},[e("el-image",{staticClass:"preview-img",attrs:{src:t.currentImg,lazy:"","preview-src-list":t.itemImages.indexOf(t.currentImg)>-1?t.itemImages:t.preViewImgList}})],1),e("div",{staticClass:"item-imgs"},[e("ul",{staticClass:"item-imgs-box"},t._l(t.itemImages,(function(s){return e("li",{key:s,staticClass:"item-img",class:{"item-img-selected":t.currentImg===s}},[e("img",{attrs:{src:s,alt:"Load failure"},on:{click:function(e){return t.switchPreImg(s)}}})])})),0)]),e("div",{staticClass:"add-this"},[e("p",{staticClass:"sales"},[t._v(" "+t._s(t.$t("item_details_sales"))+"："+t._s(t.itemInfo.qualityDetail?t.itemInfo.qualityDetail.purchasingVolume:0)+" ")]),e("div",{staticClass:"share-fav"},[e("a-spin",{attrs:{spinning:t.affiliateLoading}},[e("div",{staticClass:"share",on:{click:t.affiliateShare}},[e("a-icon",{attrs:{type:"share-alt"}}),t._v(" "+t._s(t.$t("item_details_share"))+" ")],1)]),e("a-spin",{attrs:{spinning:t.handleFavoriteLoading}},[e("div",{staticClass:"favorite",on:{click:t.handleFavorite}},[e("span",{class:{"fav-active":t.isFavorite}},[e("a-icon",{attrs:{type:"star",theme:t.isFavorite?"filled":"outlined"}}),t._v(" "+t._s(t.isFavorite?t.$t("item_details_del_favorite"):t.$t("item_details_add_favorite"))+" ")],1)])])],1)])]),e("div",{staticClass:"props-content"},[e("div",{staticClass:"seller-info"},[e("img",{staticClass:"seller-icon",attrs:{src:t.sellerInfo.sourceIcon,alt:""}}),e("a",{staticClass:"seller-title",attrs:{href:t.sellerInfo.shopUrl,target:"_blank"}},[t._v(t._s(t.sellerInfo.shopName))]),e("el-tooltip",{attrs:{placement:"right","popper-class":"seller-tooltip",effect:"light"}},[e("router-link",{staticClass:"seller-btn",attrs:{to:{path:"/item/store",query:{url:t.sellerInfo.shopUrl}},target:"_blank"}},[t._v(t._s(t.$t("item_details_enter_shop")))]),e("template",{slot:"content"},[e("span",[t._v(t._s(t.$t("item_details_enter_shop_tooltip")))])])],2)],1),e("div",{staticClass:"item-header"},[e("div",{staticClass:"item-main-title"},[e("span",{staticClass:"item-title"},[t._v(t._s(t.itemInfo.goodsNameTrans))]),e("a",{staticClass:"seller-url",attrs:{href:t.itemInfo.goodsLink,target:"_blank"}},[e("a-icon",{attrs:{type:"link"}}),t._v(t._s(t.$t("item_details_product_link"))+" ")],1),e("button",{staticClass:"refresh-btn",on:{click:t.refreshItem}},[e("a-icon",{attrs:{type:"reload"}}),t._v(" "+t._s(t.$t("item_details_refresh"))+" ")],1)]),e("p",{staticClass:"price"},[e("span",{staticClass:"sku-price"},[t._v(" CNY ￥"+t._s(t.selectedSku?t.selectedSku.price.price:t.itemInfo.proPrice.price)+" "),e("span",{directives:[{name:"show",rawName:"v-show",value:"CNY"!==t.cur,expression:"cur !== 'CNY'"}]},[t._v(" ≈ "+t._s(t.curSym)+" "+t._s(t.selectedSku?t.selectedSku.price.priceCurrency:t.itemInfo.proPrice.priceCurrency)+" ")])])])]),e("div",{staticClass:"sold-out"},[e("a-icon",{staticClass:"icon",staticStyle:{"font-size":"34px",color:"#ff2840"},attrs:{type:"info-circle"}}),e("p",[t._v(t._s(t.$t("item_details_sold_out_text")))]),e("a-divider"),e("h4",[t._v(t._s(t.$t("item_details_sold_out_recommend_title")))]),e("p",[t._v("1、"+t._s(t.$t("item_details_sold_out_recommend_span1"))+".")]),e("p",[t._v("2、"+t._s(t.$t("item_details_sold_out_recommend_span2"))+" "),e("span",{on:{click:t.tawkToService}},[t._v(t._s(t.$t("item_details_sold_out_recommend_span2_service")))])])],1)])]),0!==t.shopList.length?e("shopGoods",{attrs:{shopList:t.shopList,curSym:t.curSym}}):t._e()],1)},nt=[],lt={name:"Sku",props:{itemInfo:{type:Object,default:()=>({})},getItem:{type:Function,default:null},skus:{type:Array,required:!0}},components:{shopGoods:y},data(){return{currentImg:"",goodsImg:"",skuName:"",curSym:"",itemImages:[],affiliateLoading:!1,handleFavoriteLoading:!1,isFavorite:0,sellerInfo:{},selectedProps:{},shopList:[]}},computed:{lang(){return Object(u["c"])(u["a"].lang)},cur(){return Object(u["c"])(u["a"].cur)},preViewImgList(){let t=[];return t.push(this.currentImg),t}},mounted(){this.analysisItem()},methods:{refreshItem(){this.getItem(1)},analysisItem(){if(!this.itemInfo)return;let t=this.itemInfo;this.curSym=t.cur_sym,this.isFavorite=t.favorite,this.itemImages=t.mainItemImgs,this.currentImg=this.itemImages[0]||"",this.sellerInfo=t.shop,this.shopList=t.shop_goods_list||[],this.$forceUpdate()},switchPreImg(t){this.currentImg=t},affiliateShare(){const t=window.location.href,e={url:t};this.$store.dispatch("needToken").then(()=>{this.affiliateLoading=!0,Object(d["c"])(e).then(t=>{this.$message.destroy();const e=t.data.short_url;this.affiliateLoading=!1,p["a"].copyValue(e).then(t=>{this.$message.success("Link copied, please paste it and send it to your friend and become your invited user.")}).catch(()=>{this.$warning({content:"Replication failure"})})}).catch(t=>{this.affiliateLoading=!1})})},handleFavorite(){},tawkToService(){window.tawkMessenger.toggle()}}},ct=lt,dt=(s("fe7f"),Object(f["a"])(ct,ot,nt,!1,null,"539df356",null)),ut=dt.exports,pt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"seller"}},[e("div",{staticClass:"seller-box"},[e("div",{staticClass:"seller-info"},[e("div",{staticClass:"judge-box"}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.judgeFixed,expression:"judgeFixed"}],staticClass:"j-placeholder"}),e("ul",{staticClass:"hg-tabs",class:{"hg-tabs-fixed":t.judgeFixed}},[t._l(t.tabs,(function(s){return e("li",{key:s.id,staticClass:"hg-tabs-tab",class:{active:t.currenTabKey===s.id},on:{click:function(e){return t.switchTab(s.id)}}},[t._v(" "+t._s(s.name)+" ")])})),e("li",{directives:[{name:"show",rawName:"v-show",value:t.judgeFixed,expression:"judgeFixed"}],staticClass:"add-cart",on:{click:t.addCart}},[t._v(t._s(t.$t("item_details_add_cart")))])],2),e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.currenTabKey,expression:"currenTabKey === 1"}],staticClass:"hg-tab-contents"},[e("div",{staticClass:"props-desc"},[e("div",{staticClass:"props-html"},[t.itemInfo.goodsDetailHtml?e("div",[e("div",{domProps:{innerHTML:t._s(t.itemInfo.goodsDetailHtml)}})]):e("div",{domProps:{innerHTML:t._s(t.itemInfo.descUrl)}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.currenTabKey,expression:"currenTabKey === 2"}]},[t._v(" 服务与承诺 ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:3===t.currenTabKey,expression:"currenTabKey === 3"}],staticClass:"shop-notes"},[e("h3",[t._v(t._s(t.$t("item_details_shop_note_embargo")))]),e("p",[t._v(t._s(t.$t("item_details_shop_note_embargo_span1")))]),e("p",[t._v(t._s(t.$t("item_details_shop_note_embargo_span2")))]),e("div",{staticClass:"img-box"},t._l(t.embargoImg,(function(t){return e("img",{key:t,attrs:{src:t,index:t,alt:""}})})),0),e("h3",[t._v(t._s(t.$t("item_details_shop_note_restriction")))]),e("p",[t._v(t._s(t.$t("item_details_shop_note_restriction_span"))+" "),e("button",{staticClass:"service",on:{click:t.tawkToService}},[t._v(t._s(t.$t("item_details_shop_note_restriction_service")))])]),e("div",{staticClass:"img-box"},t._l(t.purchaseImg,(function(t){return e("img",{key:t,attrs:{src:t,index:t,alt:""}})})),0),e("h3",[t._v(t._s(t.$t("item_details_shop_note_warm")))]),e("p",[t._v(t._s(t.$t("item_details_shop_note_warm_span")))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:4===t.currenTabKey,expression:"currenTabKey === 4"}],staticClass:"distribute-pay"},[e("p",[e("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("   "),e("span",[t._v(t._s(t.$t("item_details_delivery_span1")))])]),e("ul",[e("li",[t._v(t._s(t.$t("item_details_delivery_span2")))]),e("i18n",{attrs:{path:"item_details_delivery_span3",tag:"li"}},[e("router-link",{attrs:{slot:"shop",to:"/index/information?information_id=12",target:"_blank"},slot:"shop"},[t._v(t._s(t.$t("item_details_delivery_span3_shop")))]),e("router-link",{attrs:{slot:"estimate",to:"/tools/estimate",target:"_blank"},slot:"estimate"},[t._v(t._s(t.$t("item_details_delivery_span3_estimate")))])],1)],1)])])])])},mt=[],ht={name:"Seller",props:{itemInfo:{type:Object,default:()=>({})}},data(){return{currenTabKey:1,judgeFixed:!1}},computed:{tabs(){let t=[{id:1,name:this.$t("item_details_tab1")},{id:3,name:this.$t("item_details_tab3")},{id:4,name:this.$t("item_details_tab4")}];return t},embargoImg(){let t=[this.$store.state.imageUrl+"/img_seller_smoke.png",this.$store.state.imageUrl+"/img_seller_knife.png"];return t},purchaseImg(){let t=[this.$store.state.imageUrl+"/img_seller_medicine.png",this.$store.state.imageUrl+"/img_seller_liquid.png",this.$store.state.imageUrl+"/img_seller_cosmetic.png",this.$store.state.imageUrl+"/img_seller_paste_goods.png"];return t}},mounted(){window.addEventListener("scroll",this.judgeTabFixed)},methods:{judgeTabFixed(){let t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=document.querySelector(".judge-box").offsetTop;this.judgeFixed=t>=e},tawkToService(){window.tawkMessenger.toggle()},switchTab(t){this.currenTabKey=t,this.judgeFixed&&(document.body.scrollTop=document.documentElement.scrollTop=document.querySelector(".judge-box").offsetTop)},addCart(){document.body.scrollTop=document.documentElement.scrollTop=120}},beforeDestroy(){window.removeEventListener("scroll",this.judgeTabFixed)}},_t=ht,gt=(s("d151"),Object(f["a"])(_t,pt,mt,!1,null,"9f32705e",null)),ft=gt.exports,vt=s("acc5"),yt={name:"ItemDetail",data(){return{devTest:"",isSuper:!0,isSoldOut:!1,loading:!1,itemInfo:{},skus:{},currentSku:{},createComponent:!1,isError:!1}},components:{sku:K,skuSuper:rt,skuSoldOut:ut,seller:Z,sellerSuper:ft},computed:{url(){return this.$route.query.url?this.$route.query.url:""}},watch:{$route(t){""===t.query.url&&""===t.query.tid||this.getItem()}},mounted(){let t=this.$route.query.testHbType;this.devTest=t||"",this.getItem()},methods:{getItem(t=0){this.isError=!1,this.createComponent=!1,this.loading=!0;const{tp:e,tid:s,url:i}=this.$route.query;let a={url:i||"",tp:e||"",tid:s||"",refresh:t?"1":"0"};this.devTest&&(a.testHbType=this.devTest),Object(vt["c"])(a).then(t=>{let e=t.data;if(!e||Object.keys(e).length<1)return this.loading=!1,this.$message.warning("The product could not be found!"),void(this.isError=!0);e.hasOwnProperty("hb_tp_shop")?this.$router.push({path:"/item/store",query:{url:e.hb_tp_shop.url}}):(this.itemInfo=e,this.isSuper=Boolean(1==this.itemInfo.hb_type),this.isSuper&&(this.skus=this.itemInfo.skuList||[],this.isSoldOut=Boolean(1!==this.itemInfo.soldOutTag)),this.$forceUpdate(),this.createComponent=!0,this.loading=!1)}).catch(t=>{"Url not supported"===t.msg&&this.handleFill(),this.loading=!1,this.isError=!0})},reLoad(){this.getItem(1)},handleFill(){this.$router.push({path:"/item/notfound",query:{url:this.url?this.url:window.location.href}})}}},kt=yt,bt=(s("44e5"),Object(f["a"])(kt,i,a,!1,null,"76094ed9",null));e["default"]=bt.exports},"1cf2":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"item-store"}},[e("div",{staticClass:"store"},[e("div",{staticClass:"banner"},[e("div",{staticClass:"store-img"},[e("el-image",{staticClass:"icon_img",attrs:{src:t.storeInfo.icon,alt:""}})],1),e("div",{staticClass:"store-name"},[e("a",{attrs:{href:t.storeInfo.sellerurl,target:"_blank"}},[t._v(t._s(t.storeInfo.goodsseller))])])]),e("div",{staticClass:"goods-list"},[e("ul",{staticClass:"shop-box"},t._l(t.goodsList,(function(s){return e("li",{key:s.num_iid,staticClass:"shop-card",attrs:{title:s.goodsname},on:{click:function(e){return t.toDetail(s.goodsurl)}}},[e("div",{staticClass:"pic"},[e("el-image",{staticClass:"pic_img",attrs:{src:s.goodsimg,alt:"Load failure",lazy:""}})],1),e("div",{staticClass:"summary"},[e("p",{staticClass:"goods-name"},[e("el-image",{staticClass:"icon",attrs:{src:s.icon,lazy:""}}),e("span",{staticClass:"ellipsis"},[t._v(t._s(s.goodsname))])],1),e("p",{staticClass:"summary-p"},[e("span",{staticClass:"price"},[t._v(t._s(t.curSym)+t._s(s.cur_goodsprice))])])])])})),0)]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:{visible:t.loading,tip:"",size:"default"},expression:"{visible: loading, tip: '', size: 'default'}"}]}),e("div",{directives:[{name:"scrollLoad",rawName:"v-scrollLoad",value:{callback:t.getStore,load:t.loading,finished:t.finished},expression:"{callback: getStore, load: loading, finished}"}],staticStyle:{height:"10px"}}),t.loading||t.finished||t.moreIsFlag?t._e():e("div",{staticClass:"loading_more"},[e("el-button",{staticClass:"loading_more_in",on:{click:t.loadMore}},[t._v(t._s(t.$t("load_more")))])],1),t.noMoreIsFlag?e("div",{staticClass:"loading_more"},[e("span",[t._v("----------    "+t._s(t.$t("no_more"))+"    ----------")])]):t._e()])])},a=[],r=s("acc5"),o={name:"ItemStore",data(){return{noMoreIsFlag:!1,loading:!1,finished:!1,moreIsFlag:!1,goodsList:[],storeInfo:{},listQuery:{page:1,listRows:20},curSym:"￥"}},computed:{url(){return this.$route.query.url||""}},mounted(){this.getStore()},methods:{getStore(){let t={shopUrl:this.url,...this.listQuery};if(""===t.shopUrl)return this.$message.warning("The store link is missing.");this.loading=!0,Object(r["e"])(t).then(t=>{this.curSym=t.data.cur_sym;let e=t.data.goods_paging.data;this.storeInfo=t.data.shop_info||this.storeInfo,0===e.length&&(this.moreIsFlag=!0,this.noMoreIsFlag=!0),e.length?(this.listQuery.page++,this.goodsList=[...this.goodsList,...e]):this.finished=!0,this.loading=!1}).catch(t=>{this.loading=!1,this.finished=!0})},toDetail(t){let e=this.$router.resolve({path:"/item/details",query:{url:t}});window.open(e.href,"_blank")},loadMore(){this.loading||this.finished||this.getStore()}}},n=o,l=(s("df5b"),s("2877")),c=Object(l["a"])(n,i,a,!1,null,"d6b756da",null);e["default"]=c.exports},"20d8":function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"discount-detail"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.goodsDiscountInfo.discount,expression:"goodsDiscountInfo.discount"}],staticClass:"discount-item"},[e("img",{staticClass:"detail-icon",attrs:{src:t.$store.state.imageUrl+"/icon/bag_icon.png",alt:""}}),e("div",{staticClass:"detail-desc"},[t._v(" "+t._s(t.$t("item_details_discount"))+" "+t._s(t._f("numPercent")(t.goodsDiscountInfo.discount))+" ")])]),t.isOrder||t.sendDiscountInfo.discount?e("div",{staticClass:"discount-item"},[e("img",{staticClass:"detail-icon",attrs:{src:t.$store.state.imageUrl+"/icon/plane_icon.png",alt:""}}),e("div",{staticClass:"detail-desc"},[e("span",[t._v(t._s(t.$t("item_details_send_discount"))+"("+t._s(t.curSym)+t._s(t.curSendMoney)+")")]),t._v("  "),e("el-tooltip",{attrs:{placement:"right"}},[e("div",{staticStyle:{"max-width":"380px"},attrs:{slot:"content"},slot:"content"},[e("p",{directives:[{name:"show",rawName:"v-show",value:t.sendDiscountInfo.endTime,expression:"sendDiscountInfo.endTime"}]},[t._v(t._s(t.$t("item_details_send_discount_end"))+"："+t._s(t._f("formatDate")(t.sendDiscountInfo.endTime)))]),e("div",[t._v(t._s(t.$t("item_details_discount_rules"))+"：")]),e("i18n",{attrs:{path:"item_details_discount_rules_desc",tag:"li"}},[e("span",{attrs:{slot:"curSendMoney"},slot:"curSendMoney"},[t._v(t._s(t.curSym)+t._s(t.curSendMoney))]),e("span",{staticStyle:{color:"#ff2840"},attrs:{slot:"maxSendDiscount"},slot:"maxSendDiscount"},[t._v(t._s(t._f("numPercent")(t.sendDiscountInfo.max_send_discount)))])])],1),e("a-icon",{attrs:{type:"question-circle"}})],1)],1)]):t._e()])},a=[],r={props:{goodsDiscountInfo:{type:Object,default:()=>({})},sendDiscountInfo:{type:Object,default:()=>({})},isOrder:{default:()=>!1},curSym:{type:String,default:"￥"},curSendMoney:{type:Number,default:0}},filters:{numPercent(t){return 100*Number(t)+"%"}}},o=r,n=(s("0123"),s("2877")),l=Object(n["a"])(o,i,a,!1,null,"014e4d2f",null);e["a"]=l.exports},"259d":function(t,e,s){},3080:function(t,e,s){},"3eba":function(t,e,s){},"44e5":function(t,e,s){"use strict";s("9d0c")},"469a":function(t,e,s){},"4e62":function(t,e,s){},"57d6":function(t,e,s){"use strict";s("6574")},"57f5":function(t,e,s){},5969:function(t,e,s){},"5a17":function(t,e,s){"use strict";s("3080")},"63fe":function(t,e,s){"use strict";s("a041")},6574:function(t,e,s){},"65b0":function(t,e,s){"use strict";s("4e62")},"66a5":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"item-shop"}},[t.searchImage?e("div",{staticClass:"img-search"},[e("div",{staticClass:"searched-img"},[e("img",{staticClass:"ref-img",attrs:{src:t.searchImage,alt:""}}),e("img",{staticClass:"group-icon",attrs:{src:t.imageUrl+"/icon/groupRT.png",alt:""}})]),e("a-upload",{staticClass:"pic-uploader",attrs:{accept:"image/*",name:"searchImage","list-type":"picture-card","file-list":[],showUploadList:!1,action:"","before-upload":t.handleBeforeUpload}},[e("a-icon",{staticStyle:{"font-size":"24px"},attrs:{type:"plus"}}),e("div",{staticClass:"ant-upload-text"},[t._v("Re-upload")])],1)],1):e("div",{staticClass:"search"},[e("div",{staticClass:"search_tips"},[e("div",{staticClass:"search_tips_title"},[e("span",{staticClass:"search_tips_title_text"},[t._v(t._s(t.$t("Be_searching"))+' "')]),e("span",{staticClass:"keywords"},[t._v(t._s(t.localSearchText))]),e("span",{staticClass:"search_tips_title_text"},[t._v('", '+t._s(t.$t("Find_following_products"))+" ")])])])]),e("div",{staticClass:"search_tabs"},[e("a-tabs",{staticClass:"tab-box",attrs:{"tab-position":"top",tabBarGutter:60},on:{change:t.initSearchData},model:{value:t.searchTp,callback:function(e){t.searchTp=e},expression:"searchTp"}},[e("a-tab-pane",{key:"",attrs:{tab:"Top"}}),e("a-tab-pane",{key:"1688",attrs:{tab:"Agent Shopping from - 1688"}}),e("a-tab-pane",{key:"taobao",attrs:{tab:"Agent Shopping from - Taobao"}})],1),e("div",{staticClass:"dialog_tips"},[e("div",{staticClass:"dialog_tips_txt"},[e("span",[t._v(t._s(t.$t("Agreed")))]),e("span",{staticClass:"dialog_tips_txt_link",on:{click:t.dislogIsFlag}},[t._v(t._s(t.$t("Search_Terms_Service")))])])])],1),e("el-dialog",{attrs:{visible:t.centerDialogVisible,width:"500px",top:"300px"},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[e("div",{staticClass:"dialog_txt"},[e("div",{staticClass:"dialog_title"},[t._v(t._s(t.$t("Search_Terms_Service_txt")))]),e("div",{staticClass:"dialog_content"},[t._v(" "+t._s(t.$t("quality_authenticity_goods"))+" ")]),e("div",{staticClass:"dialog_grey"},[t._v(t._s(t.$t("Agree_Service_results")))])]),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("span",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v(t._s(t.$t("closes")))])])]),e("div",{staticClass:"store-sort"},[e("div",{staticClass:"sort-item",class:{actives:"all"===t.sortType},on:{click:function(e){return t.handleSortType("all")}}},[e("span",[t._v(t._s(t.$t("item_shop_tab1")))])])]),e("div",{staticClass:"content-shop"},[e("ul",{directives:[{name:"show",rawName:"v-show",value:0!==t.shopArr.length,expression:"shopArr.length !== 0"}],staticClass:"shop-box"},t._l(t.shopArr,(function(s,i){return e("li",{key:i,staticClass:"shop-card",on:{click:function(e){return t.toDetail(s)}}},[e("div",{staticClass:"pic"},[e("el-image",{attrs:{src:s.pic_url,alt:"Load failure",fit:"cover",lazy:""}})],1),e("div",{staticClass:"summary"},[e("h3",[e("el-image",{staticClass:"icon",attrs:{src:s.icon,lazy:""}}),e("span",{attrs:{title:s.title}},[t._v(t._s(s.title))])],1),e("p",{staticClass:"summary-p"},[e("span",{staticClass:"price"},[t._v(t._s(t.curSym)+t._s(s.cur_price))]),e("span",{staticClass:"sales"},[t._v(" Sales："+t._s(s.sales)+" ")])])])])})),0),e("a-empty",{directives:[{name:"show",rawName:"v-show",value:t.shopArr&&0===t.shopArr.length&&t.finished,expression:"shopArr && shopArr.length === 0 && finished"}],attrs:{description:"",image:t.imageUrl+"/default_kongshuju.png","image-style":{height:"200px"}}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.finished&&!t.isLoading,expression:"finished && !isLoading"}],staticClass:"retry"},[t.loadFailed?e("span",[t._v(t._s(t.$t("item_shop_load_fail")))]):e("span",[t._v(t._s(t.$t("item_shop_empty_goods")))]),e("button",{staticClass:"retry-btn",on:{click:t.handleRefresh}},[t._v(" "+t._s(t.$t("item_shop_refresh"))+" ")])]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:{visible:t.isLoading,tip:"",size:"default"},expression:"{ visible: isLoading, tip: '', size: 'default' }"}],staticStyle:{height:"100px"}}),e("div",{directives:[{name:"scrollLoad",rawName:"v-scrollLoad",value:{callback:t.scrollSearch,load:t.isLoading,finished:t.finished},expression:"{ callback: scrollSearch, load: isLoading, finished }"}],staticStyle:{height:"10px"}})],1)},a=[],r=(s("14d9"),s("2f62")),o=s("acc5"),n=s("cc33"),l=s("2d5d"),c={name:"ItemShop",data(){return{price_min:"",price_max:"",sortPriceIsFlag:!1,sortTypeIsFlag:!1,sort:"",sortType:"all",sortPrice:!1,centerDialogVisible:!1,listQuery:{page:1,listRows:20},shopArr:[],curSym:"",isLoading:!1,finished:!1,loadFailed:!1,searchImage:"",imageFile:null,searchTp:""}},mounted(){let t=this.$route.query.type;t&&"img"===t&&this.handleImageSearch(),this.routeKeyword&&(this.setState({key:"searchText",value:this.routeKeyword}),this.getShop())},computed:{routeKeyword(){return this.$route.query.keyword||""},localSearchText:{get(){return this.searchText},set(t){this.setState({key:"searchText",value:t})}},...Object(r["d"])({searchText:t=>t.shop.searchText,stateSearchImage:t=>t.shop.searchImage,needInit:t=>t.shop.needInit,refreshShop:t=>t.shop.refreshShop,imageUrl:t=>t.imageUrl})},watch:{routeKeyword(t){t&&""!==t&&(this.setState({key:"searchText",value:t}),this.searchImage="",this.initSearchData(),this.getShop())},needInit(t){t&&this.initSearchData()},refreshShop(){this.initSearchData()},stateSearchImage(t){t&&(Object(n["j"])(n["a"].SEARCH_BASE64_IMAGE,t),this.initSearchData())},searchTp(t){""==t?(this.sortTypeIsFlag=!1,this.sortPriceIsFlag=!1,this.price_min="",this.price_max="",this.sortType="all",this.sort=""):"1688"==t?(this.sortTypeIsFlag=!0,this.sortPriceIsFlag=!0):(this.sortTypeIsFlag=!0,this.sortPriceIsFlag=!1,this.price_min="",this.price_max="")}},methods:{handleSearchTpSortType(){this.sort="price_a",this.getShopSort()},validatePriceMin(){this.price_min=this.price_min.replace(/^0+/,""),/^[1-9]\d*$/.test(this.price_min)||(this.price_min="")},validatePriceMax(){this.price_max=this.price_max.replace(/^0+/,""),/^[1-9]\d*$/.test(this.price_max)||(this.price_max="")},searchPriceHandler(){if(""!==this.price_min||""!==this.price_max){if(parseInt(this.price_min)>parseInt(this.price_max))return void alert(this.$t("The_cannot_price"));this.getShopSort()}},handleSortType(t){const e=this,s="price"!==t||!e.sortPrice;"sales"!==t&&(e.sortType=t),e.sortPrice=s,"all"==e.sortType?(e.sort="",e.getShopSort()):"price"==e.sortType&&(e.sortPrice?(e.sort="price_a",e.getShopSort()):(e.sort="price_d",e.getShopSort()))},getShopSort(){if(this.isLoading||""===this.searchText)return;this.isLoading=!0;const{page:t,listRows:e}=this.listQuery;let s={page:t,tp:this.searchTp,keyword:this.searchText,sort:this.sort,price_min:this.price_min,price_max:this.price_max};Object(o["d"])(s).then(t=>{let e=t.data.items;this.curSym=t.data.cur_sym,e.item&&e.item.length?(this.shopArr=e.item,this.listQuery.page+=1):this.finished=!0}).catch(t=>{this.finished=!0,this.loadFailed=!0}).finally(()=>{this.isLoading=!1})},dislogIsFlag(){this.centerDialogVisible=!0},initSearchData(){this.shopArr=[],this.listQuery.page=1,this.finished=!1},handleRefresh(){this.finished=!1},scrollSearch(){this.loadFailed=!1;let t=this.$route.query.type;t&&"img"===t&&this.handleImageSearch(),this.routeKeyword&&(Object(n["g"])(n["a"].SEARCH_BASE64_IMAGE),this.setState({key:"searchImage",value:""}),this.getShop())},getShop(){if(this.isLoading||""===this.searchText)return;this.isLoading=!0;const{page:t,listRows:e}=this.listQuery;let s={page:t,tp:this.searchTp,keyword:this.searchText,sort:this.sort};Object(o["d"])(s).then(t=>{let e=t.data.items;this.curSym=t.data.cur_sym,e.item&&e.item.length?(this.shopArr=[...this.shopArr,...e.item],this.listQuery.page+=1):this.finished=!0}).catch(t=>{this.finished=!0,this.loadFailed=!0}).finally(()=>{this.isLoading=!1})},handleImageSearch(){let t=Object(n["d"])(n["a"].SEARCH_BASE64_IMAGE)||"";t&&(this.searchImage=t,this.setState({key:"searchText",value:""}),this.imageSearch(t))},async imageSearch(t){await this.convertBase64ToFile(t,"searchImage.png");const{page:e,listRows:s}=this.listQuery,i={page:e,tp:this.searchTp,image:this.imageFile};this.isLoading=!0,Object(o["b"])(i).then(t=>{this.curSym=t.data.cur_sym,t.data.list&&t.data.list.length?(this.shopArr=[...this.shopArr,...t.data.list],this.listQuery.page+=1):this.finished=!0}).catch(t=>{this.finished=!0,this.loadFailed=!0}).finally(()=>{this.isLoading=!1})},async convertBase64ToFile(t,e){const s=await fetch(t),i=await s.blob(),a={type:i.type};this.imageFile=new File([i],e,a)},async handleBeforeUpload(t){try{const e=await Object(l["a"])(t),s=await this.fileToBase64(e);s&&(this.searchImage=s,Object(n["j"])(n["a"].SEARCH_BASE64_IMAGE,s),this.setState({key:"searchImage",value:s}))}catch(e){}return this.$router.push({path:"/item/shop",query:{type:"img"}}),this.$nextTick(()=>{this.initSearchData()}),!1},toDetail(t){let e=this.$router.resolve({path:"/item/details",query:{url:t.detail_url}});window.open(e.href,"_blank")},...Object(r["b"])({fileToBase64:"shop/fileToBase64",handleSearch:"shop/handleSearch"}),...Object(r["c"])({setState:"shop/setState"})},beforeRouteLeave(t,e,s){this.setState({key:"searchText",value:""}),this.setState({key:"searchImage",value:""}),Object(n["g"])(n["a"].SEARCH_BASE64_IMAGE),s()}},d=c,u=(s("8f08"),s("2877")),p=Object(u["a"])(d,i,a,!1,null,"57c1ebbc",null);e["default"]=p.exports},6966:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"not-found"}},[e("common-header"),e("main",[e("div",{staticClass:"commodity"},[e("div",{staticClass:"step"},[e("a-steps",{attrs:{type:"navigation",current:0}},[e("a-step",{attrs:{status:"process"}},[e("img",{attrs:{slot:"icon",src:t.imageUrl+"/icon_tianxie_liang.png",alt:""},slot:"icon"}),e("span",{staticClass:"step-title",attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(t.$t("item_notfound_step1"))+" ")])]),e("a-step",{attrs:{status:"wait"}},[e("img",{attrs:{slot:"icon",src:t.imageUrl+"/icon_zhifu_hui.png",alt:""},slot:"icon"}),e("span",{staticClass:"step-title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("item_notfound_step2")))])]),e("a-step",{attrs:{status:"wait"}},[e("img",{attrs:{slot:"icon",src:t.imageUrl+"/icon_fahuo_hui.png",alt:""},slot:"icon"}),e("span",{staticClass:"step-title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("item_notfound_step3")))])])],1)],1),e("div",{staticClass:"form-content"},[e("a-form-model",t._b({ref:"fillBuyForm",attrs:{model:t.fillBuyForm,rules:t.fillBuyRules}},"a-form-model",t.formLayout,!1),[e("h3",[t._v(t._s(t.$t("item_notfound_goods_details")))]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isAutoComp,expression:"isAutoComp"}]},[e("a-form-model-item",{attrs:{prop:"goodsurl",label:t.$t("item_notfound_goodsurl_label")}},[e("a-input",{attrs:{placeholder:t.$t("item_notfound_goodsurl_placeholder")},on:{blur:t.judgeUrl},model:{value:t.fillBuyForm.goodsurl,callback:function(e){t.$set(t.fillBuyForm,"goodsurl",e)},expression:"fillBuyForm.goodsurl"}})],1),e("a-form-model-item",{attrs:{prop:"goodsname",label:t.$t("item_notfound_goodsname_label")}},[e("a-input",{attrs:{placeholder:t.$t("item_notfound_goodsname_placeholder")},model:{value:t.fillBuyForm.goodsname,callback:function(e){t.$set(t.fillBuyForm,"goodsname",e)},expression:"fillBuyForm.goodsname"}})],1),e("a-form-model-item",{attrs:{prop:"skuname",label:t.$t("item_notfound_skuname_label")}},[e("a-input",{attrs:{type:"textarea",placeholder:t.$t("item_notfound_skuname_placeholder")},model:{value:t.fillBuyForm.skuname,callback:function(e){t.$set(t.fillBuyForm,"skuname",e)},expression:"fillBuyForm.skuname"}})],1),e("a-form-model-item",{attrs:{label:t.$t("item_notfound_goodsimg")}},[e("div",{class:t.fillBuyForm.goodsimg?"img-box":"empty-image"},[e("a-spin",{directives:[{name:"show",rawName:"v-show",value:t.fillBuyForm.goodsimg,expression:"fillBuyForm.goodsimg"}],staticClass:"spin",attrs:{spinning:t.loading}},[e("img",{staticClass:"goods-img",attrs:{src:t.fillBuyForm.goodsimg,alt:""}})]),e("div",{staticClass:"upload"},[e("a-upload",{attrs:{name:"file",multiple:!0,progress:t.progress,action:"",customRequest:t.customRequest,showUploadList:!1}},[e("button",{staticClass:"upload-btn"},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.fillBuyForm.goodsimg,expression:"!fillBuyForm.goodsimg"}]},[t._v(t._s(t.$t("item_notfound_goodsimg_upload")))]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.fillBuyForm.goodsimg,expression:"fillBuyForm.goodsimg"}]},[t._v(t._s(t.$t("item_notfound_goodsimg_reupload")))])])]),t.allStatus?e("div",{staticClass:"all-status"},[t.uploading?e("div",{staticClass:"status"},[t.uploadProgress>0?e("a-progress",{attrs:{percent:t.uploadProgress,size:"small",status:"active"}}):t._e(),t._v(" "+t._s(t.$t("item_notfound_goodsimg_uploading"))+" "),e("a-icon",{attrs:{type:"loading"}})],1):e("div",{staticClass:"status"},[t.successStu?e("div",[t._v(" "+t._s(t.$t("item_notfound_goodsimg_uploading_fail"))+" "+t._s(t.errMsg)+" ")]):e("div",[t._v(" "+t._s(t.$t("item_notfound_goodsimg_uploading_success"))+" ")])])]):t._e(),e("p",[t._v(t._s(t.$t("item_notfound_goodsimg_upload_limit")))])],1)],1)]),e("a-form-model-item",{attrs:{label:t.$t("item_notfound_goodsremark_label")}},[e("a-input",{attrs:{type:"textarea",rows:"3",placeholder:t.$t("item_notfound_goodsremark_placeholder")},model:{value:t.fillBuyForm.goodsremark,callback:function(e){t.$set(t.fillBuyForm,"goodsremark",e)},expression:"fillBuyForm.goodsremark"}})],1)],1),e("div",{staticStyle:{"border-bottom":"1px solid #eee",margin:"14px 0"}}),e("h3",[t._v(" "+t._s(t.$t("item_notfound_fee"))+" "),e("el-tooltip",{attrs:{placement:"right"}},[e("template",{slot:"content"},[e("div",{staticStyle:{"max-width":"400px"}},[t._v(" "+t._s(t.$t("item_notfound_fee_tooltip"))+" ")])]),e("a-icon",{staticClass:"tooltip-icon",staticStyle:{top:"-2px"},attrs:{type:"question-circle",theme:"filled"}})],2)],1),e("a-form-model-item",{attrs:{prop:"goodsprice",label:t.$t("item_notfound_goodsprice_label")}},[e("a-input",{staticClass:"price-input",attrs:{prefix:"CNY",placeholder:"0"},model:{value:t.fillBuyForm.goodsprice,callback:function(e){t.$set(t.fillBuyForm,"goodsprice",e)},expression:"fillBuyForm.goodsprice"}}),e("div",{staticStyle:{"line-height":"normal","font-size":"12px"}},[t._v(" "+t._s(t.$t("item_notfound_goodsprice_tips"))+" ")])],1),e("a-form-model-item",{attrs:{prop:"goodsnum",label:t.$t("item_notfound_goodsnum_label")}},[e("el-input-number",{staticStyle:{width:"240px"},attrs:{min:1,size:"small"},model:{value:t.fillBuyForm.goodsnum,callback:function(e){t.$set(t.fillBuyForm,"goodsnum",e)},expression:"fillBuyForm.goodsnum"}})],1),e("a-form-model-item",{staticStyle:{"margin-bottom":"60px"},attrs:{prop:"sendprice",label:t.$t("item_notfound_sendprice_label")}},[e("a-input",{staticClass:"price-input",attrs:{prefix:"CNY",placeholder:"0"},model:{value:t.fillBuyForm.sendprice,callback:function(e){t.$set(t.fillBuyForm,"sendprice",e)},expression:"fillBuyForm.sendprice"}}),e("div",{staticStyle:{"line-height":"normal","font-size":"12px"}},[t._v(" "+t._s(t.$t("item_notfound_sendprice_tip"))+" ")])],1),e("a-form-model-item",{attrs:{label:t.$t("item_notfound_total_label")}},[e("div",{staticClass:"total-price"},[t._v(" CNY￥ "+t._s(t.totalPrice)+" "),e("el-tooltip",{attrs:{placement:"right"}},[e("template",{slot:"content"},[e("div",[t._v(" "+t._s(t.$t("item_notfound_total_tooltip"))+" ")])]),e("a-icon",{staticClass:"tooltip-icon",staticStyle:{top:"-2px"},attrs:{type:"question-circle",theme:"filled"}})],2)],1),e("p",[t._v(" "+t._s(t.$t("item_notfound_total_tip"))+" "),e("router-link",{staticStyle:{color:"#ff2840"},attrs:{to:"/tools/estimate",target:"_blank"}},[t._v(t._s(t.$t("item_notfound_total_estimate"))+" >")])],1)]),e("div",{staticStyle:{"border-bottom":"1px solid #eee",margin:"14px 0"}})],1),e("div",{staticClass:"tip"},[e("p",[t._v(t._s(t.$t("item_notfound_agree_tip")))]),e("p",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"terms"},[e("span",{staticStyle:{"margin-right":"20px"}},[t._v(t._s(t.$t("item_notfound_agreement1")))]),e("span",[t._v(t._s(t.$t("item_notfound_agreement2")))])]),t.checkAgree?e("a-checkbox",{staticStyle:{width:"fit-content"},model:{value:t.checkAgree,callback:function(e){t.checkAgree=e},expression:"checkAgree"}},[t._v(t._s(t.$t("item_notfound_agree_checkbox")))]):e("el-tooltip",{attrs:{placement:"top"},model:{value:t.isShowToolTip,callback:function(e){t.isShowToolTip=e},expression:"isShowToolTip"}},[e("template",{slot:"content"},[e("span",[t._v(t._s(t.$t("item_details_tooltip_title")))])]),e("a-checkbox",{model:{value:t.checkAgree,callback:function(e){t.checkAgree=e},expression:"checkAgree"}},[t._v(t._s(t.$t("item_notfound_agree_checkbox")))])],2)],1),e("div",{staticClass:"btn-box"},[e("button",{staticClass:"buy-now",on:{click:function(e){return t.buyNow()}}},[t._v(" "+t._s(t.$t("item_notfound_quick_buy"))+" ")]),e("a-spin",{attrs:{spinning:t.submitLoading}},[e("button",{staticClass:"add-cart",on:{click:function(e){return t.nextTemp(!1)}}},[t._v(" "+t._s(t.$t("item_notfound_add_to_cart"))+" ")])])],1)],1)])]),e("common-footer")],1)},a=[],r=(s("14d9"),s("e9c4"),s("2f62")),o=s("cc33"),n=s("7024"),l=s("2166"),c=s("2f94"),d=s("acc5"),u=s("3de1"),p=s("d9a2"),m=s("46bb"),h={name:"Notfound",data(){return{isShowToolTip:!1,uploading:!1,allStatus:!1,isAutoComp:!1,progress:{percent:1},successStu:!0,fillBuyForm:{goodsurl:"",goodsname:"",skuname:"",goodsimg:"",goodsremark:"",goodsprice:"",goodsnum:1,sendprice:""},errMsg:"",warehouse:[],loading:!0,fillBuyRules:{goodsurl:[{required:!0,message:"",trigger:"blur"},{pattern:new RegExp(/(http|https):\/\/([\w.]+\/?)\S*/),message:"",trigger:"blur"}],goodsname:[{required:!0,trigger:"blur",message:"",whitespace:!0}],skuname:[{required:!0,trigger:"blur",message:"",whitespace:!0}],goodsprice:[{required:!0,trigger:"blur",message:""},{pattern:new RegExp(/^(0\.[0-9]{1,6}|[1-9][0-9]*\.[0-9]{0,6}|[1-9][0-9]*)$/),message:"",trigger:"blur"}],goodsnum:[{required:!0,trigger:"change",message:""}],sendprice:[{required:!0,trigger:"blur",message:""},{pattern:new RegExp(/^[0-9]+$|^[0-9]+[.][0-9]{0,6}$/),message:"",trigger:"blur"}]},checkAgree:!1,submitLoading:!1}},components:{commonHeader:p["a"],commonFooter:m["a"]},watch:{checkAgree(t){Object(o["i"])(o["a"].CHECK_AREE,t)}},computed:{...Object(r["d"])(["imageUrl","language","uploadProgress"]),totalPrice(){let t=0;const{goodsprice:e,goodsnum:s,sendprice:i}=this.fillBuyForm;return t=Number(e)*s+Number(i),t.toFixed(2)},formLayout(){let t=this.language,e={labelCol:{span:2},wrapperCol:{span:22}};const s=["pl","de","ro"];return e=-1!==s.indexOf(t)?{labelCol:{span:4},wrapperCol:{span:20}}:{labelCol:{span:3},wrapperCol:{span:21}},e}},mounted(){const t=Object(o["c"])(o["a"].CHECK_AREE);"CHECK_AREE"!==t&&(this.checkAgree="true"===t);let e=this.$route.query.url||"";e&&(this.fillBuyForm.goodsurl=e,this.judgeUrl()),this.getWarehouse()},methods:{getWarehouse(){Object(c["d"])().then(t=>{this.warehouse=t.data.list})},judgeUrl(){if(-1===this.fillBuyForm.goodsurl.indexOf("yupoo"))return;const t={url:this.fillBuyForm.goodsurl};this.isAutoComp=!0,Object(d["a"])(t).then(t=>{this.fillBuyForm.goodsname=t.data.title||"",this.fillBuyForm.goodsimg=t.data.pic_url||""}).catch(t=>{}).finally(()=>{this.isAutoComp=!1,this.loading=!1})},customRequest(t){this.allStatus=!0,this.loading=!0,this.successStu=!0,this.uploading=!0;const{file:e}=t;let s={type:"goods",image:e};this.$store.state.uploadProgress;Object(n["d"])(s).then(t=>{this.fillBuyForm.goodsimg=t.data.url,this.successStu=!1}).catch(t=>{this.successStu=!0,this.errMsg=t.msg}).finally(()=>{this.uploading=!1,this.loading=!1})},buyNow(){this.$store.dispatch("needToken").then(()=>{this.nextTemp(!0)})},nextTemp(t){this.$refs.fillBuyForm.validate((e,s)=>{const i=Object.keys(s);if(0!==i.length){const t={goodsurl:"Product Link are not supported or are empty",goodsname:"Product Name cannot be empty",skuname:"Specifications cannot be empty",goodsprice:"Unit Price cannot be empty",sendprice:"Domestic Shipping cannot be empty"};return this.$message.warning(""+t[i[0]]),!1}this.$nextTick(()=>{this.handleToCart(t)})})},handleToCart(t){if(!this.checkAgree)return void(this.isShowToolTip=!0);if(this.$message.destroy(),!this.checkAgree)return this.$message.warning("Please read and agree");const e=Object.assign({quickbuy:t?2:1,result:"0"},this.fillBuyForm);this.submitLoading=!0,Object(l["a"])(e).then(t=>{this.submitLoading=!1;let e=t.data.count;if(e&&(this.$store.commit("CART_COUNT",e),this.$message.success("Add to cart successfully")),t.data.cart_id){let e=[t.data.cart_id];if(0===e.length)return;let s=u["a"].randomCharacter();Object(o["j"])(s,JSON.stringify(e)),this.$router.push({path:"/carttoorder",query:{csk:s}})}}).catch(t=>{this.submitLoading=!1})}}},_=h,g=(s("e342"),s("2877")),f=Object(g["a"])(_,i,a,!1,null,"2b04cd6c",null);e["default"]=f.exports},"728c":function(t,e,s){"use strict";s("57f5")},"77fa":function(t,e,s){"use strict";s("0704")},8007:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"item"}},[e("common-header"),e("main",[e("div",{staticClass:"item-page"},[e("div",{staticClass:"item-content"},[e("router-view")],1)])]),e("common-footer")],1)},a=[],r=s("d9a2"),o=s("46bb"),n={name:"Item",components:{commonHeader:r["a"],commonFooter:o["a"]}},l=n,c=(s("f6ee"),s("2877")),d=Object(c["a"])(l,i,a,!1,null,"0a05df85",null);e["default"]=d.exports},"88d9":function(t,e,s){},"8f08":function(t,e,s){"use strict";s("88d9")},"90f5":function(t,e,s){"use strict";s("d2a9")},"96c6":function(t,e,s){},"9b95":function(t,e,s){"use strict";s.d(e,"a",(function(){return a})),s.d(e,"c",(function(){return r})),s.d(e,"f",(function(){return o})),s.d(e,"b",(function(){return n})),s.d(e,"d",(function(){return l})),s.d(e,"e",(function(){return c})),s.d(e,"g",(function(){return d})),s.d(e,"h",(function(){return u})),s.d(e,"i",(function(){return p})),s.d(e,"j",(function(){return m}));var i=s("4ec3");function a(t={}){return Object(i["a"])("/api/affiliate/index",t,!0)}function r(t={}){return Object(i["a"])("/api/affiliate/goods",t,!0)}function o(t={}){return Object(i["a"])("/api/affiliate/childList",t,!0)}function n(t={}){return Object(i["a"])("/api/affiliate/addCode",t,!0)}function l(t={}){return Object(i["a"])("/api/affiliate/registerList",t,!0)}function c(t={}){return Object(i["a"])("/api/affiliate/balanceList",t,!0)}function d(t={}){return Object(i["a"])("/api/affiliate/expList",t,!0)}function u(t={}){return Object(i["a"])("/api/affiliate/myProfile",t,!0)}function p(t={}){return Object(i["a"])("/api/affiliate/submitWithdrawal",t,!0)}function m(t={}){return Object(i["a"])("/api/affiliate/withdrawalList",t,!0)}},"9d0c":function(t,e,s){},a041:function(t,e,s){},a732:function(t,e,s){"use strict";var i=s("23e7"),a=s("c65b"),r=s("2266"),o=s("59ed"),n=s("825a"),l=s("46c4"),c=s("2a62"),d=s("f99f"),u=d("some",TypeError);i({target:"Iterator",proto:!0,real:!0,forced:u},{some:function(t){n(this);try{o(t)}catch(i){c(this,"throw",i)}if(u)return a(u,this,t);var e=l(this),s=0;return r(e,(function(e,i){if(t(e,s++))return i()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},acc5:function(t,e,s){"use strict";s.d(e,"d",(function(){return a})),s.d(e,"c",(function(){return r})),s.d(e,"e",(function(){return o})),s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return l}));var i=s("4ec3");function a(t={}){return Object(i["a"])("/api/sapi/index",t,!0)}function r(t={}){return Object(i["a"])("/api/sapi/item",t,!0)}function o(t={}){return Object(i["a"])("/api/sapi/shopGoodsList",t,!0)}function n(t={}){return Object(i["a"])("/api/sapi/imageSearch",t,!0)}function l(t={}){return Object(i["a"])("/api/sapi/autoCompInfo",t,!0)}},ba36:function(t,e,s){},c40e:function(t,e,s){"use strict";s.d(e,"g",(function(){return a})),s.d(e,"e",(function(){return r})),s.d(e,"j",(function(){return o})),s.d(e,"q",(function(){return n})),s.d(e,"d",(function(){return l})),s.d(e,"b",(function(){return c})),s.d(e,"c",(function(){return d})),s.d(e,"l",(function(){return u})),s.d(e,"k",(function(){return p})),s.d(e,"s",(function(){return m})),s.d(e,"a",(function(){return h})),s.d(e,"m",(function(){return _})),s.d(e,"o",(function(){return g})),s.d(e,"p",(function(){return f})),s.d(e,"i",(function(){return v})),s.d(e,"n",(function(){return y})),s.d(e,"r",(function(){return k})),s.d(e,"h",(function(){return b})),s.d(e,"f",(function(){return C}));var i=s("4ec3");function a(t={}){return Object(i["a"])("/api/goods/index",t,!0)}function r(t={}){return Object(i["a"])("/api/goods/item",t,!0)}function o(t={}){return Object(i["a"])("/api/goods/toSend",t,!0)}function n(t={}){return Object(i["a"])("/api/goods/reply",t,!0)}function l(t={}){return Object(i["a"])("/api/goods/favoriteList",t,!0)}function c(t={}){return Object(i["a"])("/api/goods/favoriteAdd",t,!0)}function d(t={}){return Object(i["a"])("/api/goods/favoriteDel",t,!0)}function u(t={}){return Object(i["a"])("/api/goods/historyList",t,!0)}function p(t={}){return Object(i["a"])("/api/goods/historyDel",t,!0)}function m(t={}){return Object(i["a"])("/api/goods/typeList",t,!0)}function h(t={}){return Object(i["a"])("/api/goods/editExpress",t,!0)}function _(t={}){return Object(i["a"])("/api/goods/picList",t,!0)}function g(t={}){return Object(i["a"])("/api/goods/refundCause",t,!0)}function f(t={}){return Object(i["a"])("/api/goods/refundSubmit",t,!0)}function v(t={}){return Object(i["a"])("/api/goods/refundList",t,!0)}function y(t={}){return Object(i["a"])("/api/goods/refundCancel",t,!0)}function k(t={}){return Object(i["a"])("/api/goods/replyBot",t,!0)}function b(t={}){return Object(i["a"])("/api/goods/refundFilter",t,!0)}function C(t={}){return Object(i["a"])("/api/sapi/itemPostFee",t,!0)}},d151:function(t,e,s){"use strict";s("96c6")},d2a9:function(t,e,s){},d866:function(t,e,s){"use strict";var i=s("23e7"),a=s("c65b"),r=s("2266"),o=s("59ed"),n=s("825a"),l=s("46c4"),c=s("2a62"),d=s("f99f"),u=d("every",TypeError);i({target:"Iterator",proto:!0,real:!0,forced:u},{every:function(t){n(this);try{o(t)}catch(i){c(this,"throw",i)}if(u)return a(u,this,t);var e=l(this),s=0;return!r(e,(function(e,i){if(!t(e,s++))return i()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},df5b:function(t,e,s){"use strict";s("ba36")},e342:function(t,e,s){"use strict";s("469a")},f6ee:function(t,e,s){"use strict";s("259d")},fe7f:function(t,e,s){"use strict";s("3eba")}}]);