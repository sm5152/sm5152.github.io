(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login_packge"],{"0866":function(t,e,a){},2168:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page"},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:t.$store.state.imageUrl+"/logo.png",alt:""},on:{click:t.toHome}})]),e("div",{staticClass:"content"},[e("div",{staticClass:"banner"},[e("p",{staticClass:"banner-title1"},[t._v(t._s(t.$t("login_tab1"))+" "+t._s(t.$t("login_tab2")))]),e("p",{staticClass:"banner-title2"},[t._v(t._s(t.$t("login_tab3")))])]),e("div",{staticClass:"form"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("account_login")))]),e("a-form-model",{ref:"ruleForm",staticClass:"form-model",attrs:{model:t.formLogin,rules:t.rules}},[""===t.adminId?e("a-form-model-item",{attrs:{prop:"username"}},[e("a-input",{attrs:{autocomplete:"off",size:"large",type:"text",name:"username",placeholder:t.$t("please_input_emil")},model:{value:t.formLogin.username,callback:function(e){t.$set(t.formLogin,"username","string"===typeof e?e.trim():e)},expression:"formLogin.username"}})],1):t._e(),""===t.adminId?e("a-form-model-item",{attrs:{prop:"password"}},[e("a-input",{attrs:{autocomplete:"off",size:"large",type:"password",name:"password",placeholder:t.$t("please_input_password")},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin()}},model:{value:t.formLogin.password,callback:function(e){t.$set(t.formLogin,"password","string"===typeof e?e.trim():e)},expression:"formLogin.password"}})],1):t._e(),t.showCaptcha?e("a-form-model-item",{attrs:{prop:"captcha"}},[e("div",{staticClass:"captcha-box"},[e("a-input",{staticClass:"verification-code",attrs:{size:"large",type:"text",placeholder:t.$t("captcha")},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin()}},model:{value:t.formLogin.captcha,callback:function(e){t.$set(t.formLogin,"captcha",e)},expression:"formLogin.captcha"}}),e("img",{staticClass:"verification-img",attrs:{src:t.vImg,alt:t.$t("captcha"),title:t.$t("click_refresh_captcha")},on:{click:function(e){return t.resetVImg()}}})],1)]):t._e()],1),e("a-spin",{staticClass:"submit-btn",attrs:{spinning:t.loging}},[e("div",{on:{click:function(e){return t.handleLogin()}}},[t._v(t._s(t.$t("login")))])]),""===t.adminId?e("div",{staticClass:"operation"},[e("router-link",{attrs:{to:"/email/forget"}},[t._v(t._s(t.$t("forget_password")))]),e("router-link",{staticClass:"register",attrs:{to:"/register"}},[t._v(t._s(t.$t("free_sign_up")))])],1):t._e()],1)]),e("user-footer")],1)])},i=[],r=(a("14d9"),a("d207")),o=a("6a12"),n={components:{userFooter:r["a"]},data(){return{formLogin:{username:"",password:"",captcha:""},rules:{username:[{required:!0,message:"Please input your email",trigger:"blur"}],password:[{required:!0,message:"Please input password",trigger:"blur"}],captcha:[{required:!0,message:"Please input Captcha",trigger:"blur"}]},vImg:"",showCaptcha:!1,loging:!1}},created(){this.getCaptcha(),document.head.appendChild(this.bodyStyle)},computed:{adminId(){return this.$route.query.adminReqId?this.$route.query.adminReqId:""},bodyStyle(){let t=document.createElement("style");return t.innerHTML="\n        @media screen and (max-width: 600px) {\n          body {\n            /* 在这里添加你想要应用于body元素的样式 */\n            min-width: 100vw !important;\n          }\n        }\n      ",t}},methods:{resetVImg(){this.getCaptcha()},getCaptcha(){const t=new o["a"];let e=t.getCurrentUrl();this.vImg=`${e}/api/plain/captcha?${Math.random()}`},handleLogin(){this.$refs.ruleForm.validate(t=>{t&&this.$nextTick(()=>{this.loging||(this.loging=!0,this.login())})})},login(){""!==this.adminId&&(this.formLogin.adminReqId=this.adminId),this.$store.dispatch("login",this.formLogin).then(t=>{this.loging=!1;let e="/";this.$route.query.redirect&&(e=this.$route.query.redirect),this.$router.push({path:e})}).catch(t=>{1008===t.code&&(this.$message.warning(t.msg),this.resetVImg(),this.showCaptcha=!0),this.loging=!1})},toHome(){this.$router.push("/")}},beforeDestroy(){this.bodyStyle&&document.head.removeChild(this.bodyStyle)}},l=n,c=(a("2cd6"),a("2877")),d=Object(c["a"])(l,s,i,!1,null,"280a4082",null);e["default"]=d.exports},"2cd6":function(t,e,a){"use strict";a("a078")},"6ebd":function(t,e,a){"use strict";a("0866")},a078:function(t,e,a){},d207:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"footer"},[e("p",[t._v("—— HagoBuy · "+t._s(t.$t("footer_user_tab"))+" ——")])])},i=[],r={},o=r,n=(a("6ebd"),a("2877")),l=Object(n["a"])(o,s,i,!1,null,"09e4a457",null);e["a"]=l.exports}}]);