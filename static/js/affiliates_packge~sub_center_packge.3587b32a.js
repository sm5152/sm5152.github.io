(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["affiliates_packge~sub_center_packge"],{"04f3":function(t,e,a){"use strict";a("d8d1")},"3ace":function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"banner",style:`background-image:url(${t.affBgUrl})`},[e("a-carousel",{staticClass:"carousel-box",attrs:{autoplay:"",dots:!1,dotPosition:"left"}},t._l(t.simUserList,(function(a){return e("div",{key:a.id},[e("div",{staticClass:"carousel-item"},[e("div",{staticClass:"avatar-name"},[e("a-avatar",{staticClass:"avatar",staticStyle:{"background-color":"#333"},attrs:{src:a.avatar,icon:"user"}}),e("span",{staticClass:"name"},[t._v(t._s(t._f("hideName")(a.name)))])],1),e("span",[t._v(t._s(t.$t("center_affiliates_bonus_earned"))+" $"+t._s(a.money))])])])})),0),e("div"),e("a-spin",{staticClass:"affiliate-code-url",attrs:{spinning:t.loading}},[t.sharkLink?e("qrCode",{ref:"inviteCode",attrs:{url:t.sharkLink}}):e("el-image",{staticClass:"code-box",attrs:{src:"",alt:""}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("a-icon",{attrs:{type:"picture"}})],1)]),e("span",{staticClass:"qr-tip"},[t._v(" "+t._s(t.$t("center_affiliates_qr_tip"))+" ")]),e("div",{staticClass:"action-box"},[e("a-textarea",{staticClass:"copy-url-input",attrs:{value:t.sharkLink,disabled:!0}}),e("div",{staticClass:"btn-box"},[e("button",{directives:[{name:"copy",rawName:"v-copy.async",value:{text:t.sharkLink,message:"Copy it. Go promote it"},expression:"{text:sharkLink, message: 'Copy it. Go promote it'}",modifiers:{async:!0}}],ref:"copy-btn",staticClass:"copy-url"},[t._v(" "+t._s(t.$t("center_affiliates_copy_link"))+" ")]),e("button",{staticClass:"copy-url edit-btn",on:{click:t.handleEdit}},[t._v(" "+t._s(t.$t("center_affiliates_edit_link"))+" ")])])],1)],1),e("a-modal",{attrs:{centered:!0,width:410,destroyOnClose:!0},model:{value:t.showEdit,callback:function(e){t.showEdit=e},expression:"showEdit"}},[e("a-form-model",{ref:"ruleForm",attrs:{model:t.codeForm,rules:t.rules}},[e("a-form-model-item",{attrs:{label:t.$t("center_affiliates_modal_custom_code"),prop:"newCode"}},[e("a-input",{model:{value:t.codeForm.newCode,callback:function(e){t.$set(t.codeForm,"newCode",e)},expression:"codeForm.newCode"}})],1)],1),e("template",{slot:"footer"},[e("a-button",{key:"back",on:{click:function(e){t.showEdit=!1}}},[t._v(" "+t._s(t.$t("confirm_cancel_text"))+" ")]),e("a-button",{key:"submit",attrs:{type:"danger",loading:t.editLoading},on:{click:t.editCode}},[t._v(" "+t._s(t.$t("confirm_ok_text"))+" ")])],1)],2)],1)},s=[],n=(a("e9f5"),a("910d"),a("9b95"));a("14d9");let r=[],o=14;const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let h=0;h<o;h++){let t=Array.from({length:6},()=>l.charAt(Math.floor(Math.random()*l.length))).join(""),e=Array.from({length:Math.floor(2*Math.random())+3},()=>Math.floor(10*Math.random())).join(""),a=Array.from({length:2},()=>Math.floor(10*Math.random())).join("");r.push({name:t,money:Number(e)+"."+a,id:h})}var c={list:r},d=a("a4c3"),u={components:{qrCode:d["a"]},data(){return{loading:!1,sharkLink:"",showEdit:!1,editLoading:!1,codeForm:{newCode:""},rules:{newCode:[{required:!0,message:this.$t("center_affiliates_modal_rules_custom_code"),trigger:"blur"}]}}},filters:{hideName(t){return t.slice(0,1)+"*".repeat(4)}},computed:{affBgUrl(){let t=this.$store.state.language,e=this.$store.state.imageUrl,a="";return a="zh"===t?e+"/aff_bg_cn.png":e+"/aff_bg_en.png",a},simUserList(){let t=c.list.filter(t=>Number(t.money)>400);return t}},watch:{sharkLink(t,e){""!==e&&this.refreshCode()}},methods:{getAffiliateRegister(){this.loading=!0,Object(n["d"])().then(t=>{let e=t.data.list;this.sharkLink=e[0].show_url,this.loading=!1}).catch(()=>{this.loading=!1})},handleEdit(){this.showEdit=!0},editCode(){this.$refs.ruleForm.validate(t=>{if(!t)return!1;{const{newCode:t}=this.codeForm,e={newCode:t};this.editLoading=!0,Object(n["b"])(e).then(t=>{this.editLoading=!1,this.showEdit=!1,this.codeForm.newCode="",this.getAffiliateRegister()}).catch(()=>{this.editLoading=!1})}})},refreshCode(){this.$nextTick(()=>{this.$refs.inviteCode.refreshCode(this.sharkLink)})}}},f=u,_=(a("5d9b"),a("2877")),m=Object(_["a"])(f,i,s,!1,null,"cb53032c",null);e["a"]=m.exports},"3b06":function(t,e,a){},"4b8d":function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"vip-level"},[e("h3",{staticClass:"title"},[t._v(" "+t._s(t.$t("center_affiliates_privilege"))+" "),e("span",[t._v(" "+t._s(t.$t("center_affiliates_bonus_rate"))+" "),e("el-tooltip",{attrs:{placement:"right"}},[e("div",{attrs:{slot:"content"},slot:"content"},[e("div",[t._v(t._s(t.$t("center_affiliates_tooltip_title")))]),e("div",[t._v(t._s(t.$t("center_affiliates_tooltip_content")))])]),e("a-icon",{attrs:{type:"question-circle"}})],1)],1)]),e("div",{staticClass:"vip-level-status"},[e("ul",{staticClass:"level-box"},t._l(t.affConfig,(function(a){return e("li",{key:a.level,staticClass:"level-content",class:{active:a.my_level}},[a.my_level?e("a-avatar",{staticStyle:{"background-color":"#333"},attrs:{src:t.userInfo.avatar,icon:"user"}}):t._e(),e("span",{directives:[{name:"show",rawName:"v-show",value:a.my_level,expression:"item.my_level"}],staticClass:"affiliate-title"},[t._v(t._s(t.balanceInfo.title))]),e("span",{directives:[{name:"show",rawName:"v-show",value:!a.my_level,expression:"!item.my_level"}],staticClass:"affiliate-title"},[t._v(t._s(a.title))]),e("div",{directives:[{name:"show",rawName:"v-show",value:!a.my_level,expression:"!item.my_level"}]},[t._v(" "+t._s(a.require_exp)+t._s(t.$t("center_affiliates_credit"))+" ")]),e("span",{staticClass:"affiliate-commission"},[t._v(t._s(t.$t("center_affiliates_bonus_rate")))]),e("span",{directives:[{name:"show",rawName:"v-show",value:a.my_level,expression:"item.my_level"}],staticClass:"affiliate-rate"},[t._v(t._s(t.balanceInfo.rate2)+" %")]),e("span",{directives:[{name:"show",rawName:"v-show",value:!a.my_level,expression:"!item.my_level"}],staticClass:"affiliate-rate"},[t._v(t._s(a.rate2)+" %")]),e("div",{directives:[{name:"show",rawName:"v-show",value:a.my_level,expression:"item.my_level"}],staticClass:"affiliate-progress"},[e("a-progress",{attrs:{strokeColor:"#ff2840",percent:t.levelPercent,"show-info":!1,size:"small"}}),e("div",{staticClass:"affiliate-progress-text"},[e("span",[t._v(t._s(t.$t("center_affiliates_credit")))]),e("span",[t._v(t._s(t.balanceInfo.exp)+"/"+t._s(t.balanceInfo.next_exp))])])],1)],1)})),0)])])},s=[],n={props:{affConfig:{type:Array,required:!0},balanceInfo:{type:Object,required:!0}},computed:{userInfo(){return this.$store.state.userInfo},levelPercent(){let t=Number(this.balanceInfo.exp),e=Number(this.balanceInfo.next_exp),a=t/e*100;return a}}},r=n,o=(a("c629"),a("2877")),l=Object(o["a"])(r,i,s,!1,null,"b8d5c5fe",null);e["a"]=l.exports},"5cbc":function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"faq"},[e("a-divider",[e("span",{staticClass:"divider-line"},[t._v(t._s(t.$t("affiliates_bonus_FAQ")))])]),e("div",{staticClass:"question-content"},[e("ul",[t._l(t.affiliateItem,(function(a){return e("li",{key:a.id},[e("h3",{directives:[{name:"show",rawName:"v-show",value:a.question,expression:"item.question"}]},[t._v(t._s(a.question))]),e("p",[e("span",[t._v(t._s(a.content))])])])})),e("li",[e("p",[e("span",[t._v(t._s(t.$t("center_affiliates_contact_mail"))+" "),e("a",{directives:[{name:"copy",rawName:"v-copy",value:{text:"biz@xxx.com"},expression:"{text:'biz@xxx.com'}"}],attrs:{href:"javascript:;"}},[t._v("biz@xxx.com")])])])])],2)])],1)},s=[],n={computed:{affiliateItem(){const t=[{id:0,question:this.$t("center_affiliates_affiliate_program"),content:this.$t("center_affiliates_affiliate_program_content")},{id:1,question:this.$t("center_affiliates_bonus_calculated"),content:this.$t("center_affiliates_bonus_calculated_content")},{id:2,question:this.$t("center_affiliates_promote_free"),content:this.$t("center_affiliates_promote_free_content")}];return t}}},r=n,o=(a("04f3"),a("2877")),l=Object(o["a"])(r,i,s,!1,null,"47b7296e",null);e["a"]=l.exports},"5d9b":function(t,e,a){"use strict";a("9fca")},"65b57":function(t,e,a){"use strict";a("3b06")},"9b95":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"c",(function(){return n})),a.d(e,"f",(function(){return r})),a.d(e,"b",(function(){return o})),a.d(e,"d",(function(){return l})),a.d(e,"e",(function(){return c})),a.d(e,"g",(function(){return d})),a.d(e,"h",(function(){return u})),a.d(e,"i",(function(){return f})),a.d(e,"j",(function(){return _}));var i=a("4ec3");function s(t={}){return Object(i["a"])("/api/affiliate/index",t,!0)}function n(t={}){return Object(i["a"])("/api/affiliate/goods",t,!0)}function r(t={}){return Object(i["a"])("/api/affiliate/childList",t,!0)}function o(t={}){return Object(i["a"])("/api/affiliate/addCode",t,!0)}function l(t={}){return Object(i["a"])("/api/affiliate/registerList",t,!0)}function c(t={}){return Object(i["a"])("/api/affiliate/balanceList",t,!0)}function d(t={}){return Object(i["a"])("/api/affiliate/expList",t,!0)}function u(t={}){return Object(i["a"])("/api/affiliate/myProfile",t,!0)}function f(t={}){return Object(i["a"])("/api/affiliate/submitWithdrawal",t,!0)}function _(t={}){return Object(i["a"])("/api/affiliate/withdrawalList",t,!0)}},"9fca":function(t,e,a){},c629:function(t,e,a){"use strict";a("f0d9f")},d8d1:function(t,e,a){},eb00:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"affiliate-visual"}},[e("div",{staticClass:"visual-box left-content"},[e("div",{staticClass:"visual-content"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("center_affiliates_bonus_able")))]),e("div",{staticClass:"num balance"},[t._v(t._s(t.curSym)+" "+t._s(t.balanceInfo.cur_balance))]),e("div",{staticClass:"operation-box"},[e("a-spin",{staticClass:"withdraw-spin",attrs:{spinning:t.filingWithdraw}},[e("button",{staticClass:"withdraw-btn",on:{click:t.handleWithdraw}},[t._v(" "+t._s(t.$t("center_affiliates_withdraw"))+" ")])]),e("button",{staticClass:"record-btn",on:{click:function(e){return t.routeTo("withdraw")}}},[t._v(t._s(t.$t("center_affiliates_withdraw_record")))])],1)]),e("div",{staticClass:"visual-content"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("center_affiliates_unsettled_balance"))+" "),e("el-tooltip",{attrs:{placement:"right"}},[e("div",{staticStyle:{"max-width":"360px"},attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(t.$t("center_affiliates_unsettled_balance_tooltip"))+" ")]),e("a-icon",{attrs:{type:"question-circle"}})],1)],1),e("div",{staticClass:"num"},[t._v(t._s(t.curSym)+" "+t._s(t.balanceInfo.cur_estimated_income_all))])])]),e("div",{staticClass:"visual-box right-content"},[e("div",{staticClass:"visual-content"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("center_affiliates_received_bonus"))+" "),e("el-tooltip",{attrs:{placement:"right"}},[e("div",{staticStyle:{"max-width":"360px"},attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(t.$t("center_affiliates_received_bonus_tooltip"))+" ")]),e("a-icon",{attrs:{type:"question-circle"}})],1)],1),e("div",{staticClass:"num"},[t._v(t._s(t.curSym)+" "+t._s(t.balanceInfo.cur_settled_income_all))]),e("div",{staticClass:"operation-box"},[e("button",{staticClass:"record-btn",on:{click:function(e){return t.routeTo("bonus")}}},[t._v(t._s(t.$t("center_affiliates_details")))])])]),e("div",{staticClass:"visual-content"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("center_affiliates_invited_num")))]),e("div",{staticClass:"num"},[t._v(t._s(t.balanceInfo.num_of_friends))]),e("div",{staticClass:"operation-box"},[e("button",{staticClass:"record-btn",on:{click:function(e){return t.routeTo("user")}}},[t._v(t._s(t.$t("center_affiliates_check")))])])]),e("div",{staticClass:"visual-content"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("center_affiliates_finish_order"))+" "),e("el-tooltip",{attrs:{placement:"right"}},[e("div",{staticStyle:{"max-width":"360px"},attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(t.$t("center_affiliates_finish_order_tooltip"))+" ")]),e("a-icon",{attrs:{type:"question-circle"}})],1)],1),e("div",{staticClass:"num"},[t._v(t._s(t.balanceInfo.num_of_orders_all))])])]),e("a-modal",{attrs:{title:t.$t("center_affiliates_bonus_withdraw_title"),width:580,okText:t.$t("confirm_ok_text"),cancelText:t.$t("confirm_cancel_text"),okType:"danger",centered:"",confirmLoading:t.submitRefundLoading,maskClosable:!1},on:{ok:t.handleConfirmWithdraw},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[e("a-form-model",{ref:"withdrawRuleForm",staticClass:"form-model-box",attrs:{model:t.withdrawForm,rules:t.rules,layout:"vertical"}},[e("a-form-model-item",{attrs:{label:t.$t("center_affiliates_bonus_type"),prop:"type"}},[e("a-radio-group",{model:{value:t.withdrawForm.type,callback:function(e){t.$set(t.withdrawForm,"type",e)},expression:"withdrawForm.type"}},t._l(t.withDrawTypeList,(function(a){return e("a-radio",{key:a.type,attrs:{value:a.type}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("p",[t._v(" "+t._s(t.$t("center_affiliates_bonus_available"))+" "),e("span",{staticClass:"max-balance"},[t._v(t._s(t.maxBalance))]),t._v(" CNY "),e("span",{directives:[{name:"show",rawName:"v-show",value:"￥"!==t.curSym,expression:"curSym !== '￥'"}]},[t._v(" ( ≈ "),e("span",{staticClass:"max-balance"},[t._v(t._s(t.curSym)+" "+t._s(t.maxCurBalance))]),t._v(") ")])]),e("a-form-model-item",{attrs:{label:t.$t("center_affiliates_bonus_amount"),prop:"money"}},[e("a-input",{staticStyle:{width:"380px"},attrs:{size:"large",suffix:"CNY"},model:{value:t.withdrawForm.money,callback:function(e){t.$set(t.withdrawForm,"money","string"===typeof e?e.trim():e)},expression:"withdrawForm.money"}})],1),"1"!==t.withdrawForm.type?e("a-form-model-item",{attrs:{label:"Paypal account",prop:"account"}},[e("a-input",{staticStyle:{width:"380px"},attrs:{size:"large"},model:{value:t.withdrawForm.account,callback:function(e){t.$set(t.withdrawForm,"account","string"===typeof e?e.trim():e)},expression:"withdrawForm.account"}})],1):t._e()],1)],1)],1)},s=[],n=(a("14d9"),a("9b95")),r={props:{balanceInfo:{type:Object,required:!0}},data(){return{filingWithdraw:!1,showModal:!1,maxBalance:0,maxCurBalance:0,submitRefundLoading:!1,withdrawForm:{money:0,type:"1",account:""},rules:{type:[{required:!0,trigger:"change"}],money:[{required:!0,trigger:"change"},{trigger:"blur",validator:this.moneyValidator}],account:[{required:!0,trigger:"blur",validator:this.accountValidator}]},refundableRmb:10}},computed:{withDrawTypeList(){const t=[{name:"Balance",type:"1"},{name:"Paypal",type:"2"}];return t},curSym(){return this.balanceInfo.cur_sym||""}},methods:{moneyValidator(t,e,a){let i=/^\d+(\.\d{1,2})?$/;if(i.test(e)){if(0===e)return a("Must be greater than 0");Number(e)>this.maxBalance&&(this.withdrawForm.money=this.maxBalance),a()}else this.withdrawForm.money=0,a()},accountValidator(t,e,a){"1"!==this.withdrawForm.type&&""===e?a("Account number is required"):a()},handleWithdraw(){this.filingWithdraw=!0,Object(n["h"])().then(t=>{this.filingWithdraw=!1,this.maxBalance=t.data.balance,this.maxCurBalance=t.data.cur_balance,this.showModal=!0}).catch(()=>{this.filingWithdraw=!1})},routeTo(t){this.$router.push({path:"/affiliates/"+t})},handleConfirmWithdraw(){this.$refs.withdrawRuleForm.validate(t=>{t&&this.confirmWithdraw()})},confirmWithdraw(){this.submitRefundLoading=!0,Object(n["i"])(this.withdrawForm).then(t=>{this.submitRefundLoading=!1,this.$message.success("success"),this.routeTo("withdraw"),this.showModal=!1}).catch(()=>{this.submitRefundLoading=!1})}}},o=r,l=(a("65b57"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,"a6dc9e04",null);e["a"]=c.exports},f0d9f:function(t,e,a){}}]);