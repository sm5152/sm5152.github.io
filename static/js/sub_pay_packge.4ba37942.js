(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sub_pay_packge"],{"13d5":function(t,e,a){"use strict";var n=a("23e7"),s=a("d58f").left,i=a("a640"),r=a("1212"),o=a("9adc"),c=!o&&r>79&&r<83,l=c||!i("reduce");n({target:"Array",proto:!0,forced:l},{reduce:function(t){var e=arguments.length;return s(this,t,e,e>1?arguments[1]:void 0)}})},"1ba4":function(t,e,a){"use strict";a("2067")},2067:function(t,e,a){},3920:function(t,e,a){},"392d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"pay"}},[e("common-header"),e("div",{staticClass:"pay-content"},[e("h2",[t._v(t._s(t.$t("pay_title")))]),t.couponList&&t.couponList.length?e("div",{staticClass:"coupon-column"},[e("div",{staticClass:"coupon-action"},[e("div",{staticClass:"coupon-input"},[e("span",[t._v(t._s(t.$t("pay_coupon")))]),e("a-input",{staticStyle:{width:"240px"},attrs:{placeholder:t.$t("pay_coupon_input")},model:{value:t.activate.code,callback:function(e){t.$set(t.activate,"code",e)},expression:"activate.code"}}),e("a-spin",{attrs:{spinning:t.activating}},[e("button",{on:{click:t.handleConversion}},[t._v(t._s(t.$t("pay_coupon_exchange")))])])],1),e("p",{staticClass:"no-coupon",on:{click:t.selectCoupon}},[t._v(t._s(t.$t("pay_coupon_no_use")))])]),e("div",[e("a-table",{ref:"table",attrs:{columns:t.couponColumns,"data-source":t.couponList,rowKey:t=>t.id,pagination:!1,locale:{emptyText:t.$t("pay_coupon_unavailable")},"custom-row":e=>({on:{click:()=>t.selectCoupon(e)}})},scopedSlots:t._u([{key:"how_use",fn:function(a,n){return e("span",{},[e("a-radio",{staticStyle:{"margin-right":"20px"},attrs:{checked:t.currentCoupon===n.id}}),t._v(t._s(a)+" ")],1)}},{key:"endtime",fn:function(a,n){return[e("div",{directives:[{name:"show",rawName:"v-show",value:0!==n.starttime,expression:"record.starttime !== 0"}],style:{color:n.starttime>t.nowDate?"#ff2840":""}},[t._v(" "+t._s(t._f("formatDate")(n.starttime))+" ")]),e("span",[t._v(" "+t._s(t._f("formatDate")(a))+" ")])]}}],null,!1,3417195331)})],1)]):t._e(),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"payment-box"},["balance"===t.checkedPayment.name||"wise"===t.checkedPayment.name?e("ul",{staticClass:"sum"},[e("li",[t._v(" "+t._s(t.$t("pay_payment_original_total"))+": "+t._s(t.curSym)+t._s(t.checkedPayment.cur_trade_money)+" "),e("TotalInfos",{attrs:{paymentData:t.paymentData,curSym:t.curSym}})],1),e("li",[t._v(" "+t._s(t.$t("pay_payment_total"))+": "+t._s(t.curSym)+t._s(t.checkedPayment.cur_money)+" "),e("TotalInfos",{attrs:{isDiscount:!0,paymentData:t.paymentData,curSym:t.curSym}})],1),e("li",[t._v(t._s(t.$t("pay_payment_processing_fee"))+": "+t._s(t.curSym)+t._s(t.checkedPayment.cur_fee))]),e("li",[t._v(t._s(t.$t("pay_payment_actual_amount"))+": "),e("span",{staticClass:"actual-pay"},[t._v(" "+t._s(t.curSym)+t._s(t.checkedPayment.cur_money_all)+" ")])])]):e("ul",{staticClass:"sum"},[e("li",[t._v(" "+t._s(t.$t("pay_payment_original_total"))+": "+t._s(t.checkedPayment.cur_sym)+t._s(t.checkedPayment.cur_trade_money)+" "),e("TotalInfos",{attrs:{paymentData:t.paymentData,curSym:t.curSym}})],1),e("li",[t._v(" "+t._s(t.$t("pay_payment_total"))+": "+t._s(t.checkedPayment.cur_sym)+t._s(t.checkedPayment.cur_money)+" "),e("TotalInfos",{attrs:{isDiscount:!0,paymentData:t.paymentData,curSym:t.curSym}})],1),e("li",[t._v(t._s(t.$t("pay_payment_processing_fee"))+": "+t._s(t.checkedPayment.cur_sym)+t._s(t.checkedPayment.cur_fee))]),e("li",[t._v(t._s(t.$t("pay_payment_actual_amount"))+": "),e("span",{staticClass:"actual-pay"},[t._v(" "+t._s(t.equalTotal)+" ")])])]),e("div",{staticClass:"country"},[e("label",{attrs:{for:""}},[t._v(t._s(t.$t("pay_current_country")))]),e("el-select",{ref:"select",staticStyle:{width:"260px"},attrs:{filterable:"",placeholder:t.$t("center_account_address_form_input_country")},on:{change:t.countryChange,"hook:mounted":t.cancalReadOnly,"visible-change":t.cancalReadOnly},model:{value:t.countryCode,callback:function(e){t.countryCode=e},expression:"countryCode"}},t._l(t.areaList,(function(t){return e("el-option",{key:t.id,attrs:{label:t.country_code+" - "+t.name,value:t.country_code}})})),1),e("span",{staticClass:"open-channels"},[t._v(t._s(t.$t("pay_current_open_channels")))])],1),e("span",{staticClass:"tip"},[t._v(" "+t._s(t.$t("pay_payment_payment_tip"))+" "),e("span",{staticClass:"refresh",on:{click:t.getPayment}},[e("a-icon",{attrs:{type:"reload"}}),t._v(" Refresh balance ")],1)]),t._l(t.paymentList,(function(a,n){return e("div",{key:n,staticClass:"payment-item",on:{click:function(e){return t.selectPayment(a,n)}}},[e("div",{staticClass:"payment-info"},[e("div",[e("a-radio",{attrs:{checked:t.payment===n}}),e("img",{staticClass:"payment-icon",attrs:{src:a.logo,alt:""}}),e("span",[t._v(t._s(a.title))]),e("span",{directives:[{name:"show",rawName:"v-show",value:"balance"===a.name,expression:"item.name === 'balance'"}],staticStyle:{"padding-left":"10px"}},[t._v(" "+t._s(t.curSym)+t._s(t.userMoney)+" "),e("router-link",{staticClass:"to-recharge",attrs:{to:{path:"/center/property",query:{page:"balance",money:t.curMoneyAll}},target:"_blank"}},[t._v("Recharge")])],1),e("span",{directives:[{name:"show",rawName:"v-show",value:a.img_banner,expression:"item.img_banner"}],staticStyle:{"padding-left":"10px"}},[e("img",{staticClass:"img-banner",attrs:{src:a.img_banner,alt:""}})])],1),e("span",{staticClass:"payment-remark",domProps:{innerHTML:t._s(a.remark)}})]),e("div",{directives:[{name:"show",rawName:"v-show",value:a.tips_arr&&0!==a.tips_arr.length,expression:"item.tips_arr && item.tips_arr.length !== 0"}],staticClass:"tips-arr"},t._l(a.tips_arr,(function(a){return e("span",{key:a},[t._v(" "+t._s(a)+" ")])})),0)])})),t._l(t.unpaymentList,(function(a){return e("div",{directives:[{name:"show",rawName:"v-show",value:0!==t.unpaymentList.length,expression:"unpaymentList.length !== 0"}],key:a.name,staticClass:"payment-item unpayment"},[e("div",{staticClass:"payment-info"},[e("div",{staticClass:"info-left"},[e("a-radio",{attrs:{disabled:""}}),e("img",{staticClass:"payment-icon",attrs:{src:a.logo,alt:""}}),e("span",[t._v(t._s(a.title))]),e("span",{directives:[{name:"show",rawName:"v-show",value:a.img_banner,expression:"item.img_banner"}],staticStyle:{"padding-left":"10px"}},[e("img",{staticClass:"img-banner",attrs:{src:a.img_banner,alt:""}})])],1),e("span",{staticClass:"payment-remark",domProps:{innerHTML:t._s(a.remark)}})]),e("div",{directives:[{name:"show",rawName:"v-show",value:a.tips_arr&&0!==a.tips_arr.length,expression:"item.tips_arr && item.tips_arr.length !== 0"}],staticClass:"tips-arr"},t._l(a.tips_arr,(function(a){return e("span",{key:a},[t._v(" "+t._s(a)+" ")])})),0)])})),e("div",{staticClass:"judge"}),e("div",{staticClass:"payment-column",class:{"is-fixed":t.fixedType&&!t.isMobile}},[e("div",{staticClass:"check-payment"},[e("img",{staticClass:"payment-icon",attrs:{src:t.checkedPayment.logo,alt:""}}),e("span",[t._v(t._s(t.checkedPayment.title))])]),e("div",{staticClass:"total"},["balance"===t.checkedPayment.name||"wise"===t.checkedPayment.name?e("div",{staticClass:"total-box"},[e("div",{staticClass:"total-price"},[t._v(" "+t._s(t.$t("pay_payment_actual_amount"))+": "),e("span",{staticClass:"actual-pay"},[t._v(" "+t._s(t.curSym)+t._s(t.checkedPayment.cur_money_all)+" ")])]),e("div",{staticClass:"total-detail"},[e("div",[t._v(" "+t._s(t.$t("pay_payment_original_total"))+": "+t._s(t.curSym)+t._s(t.checkedPayment.cur_trade_money)+" "),e("TotalInfos",{attrs:{paymentData:t.paymentData,curSym:t.curSym}})],1),t._v("  "),e("div",[t._v(" "+t._s(t.$t("pay_payment_total"))+": "+t._s(t.curSym)+t._s(t.checkedPayment.cur_money)+" "),e("TotalInfos",{attrs:{isDiscount:!0,paymentData:t.paymentData,curSym:t.curSym}})],1),t._v("  "),e("div",[t._v(t._s(t.$t("pay_payment_processing_fee"))+": "+t._s(t.curSym)+t._s(t.checkedPayment.cur_fee))])])]):e("div",{staticClass:"total-box"},[e("div",{staticClass:"total-price"},[t._v(" "+t._s(t.$t("pay_payment_actual_amount"))+": "),e("span",{staticClass:"actual-pay"},[t._v(" "+t._s(t.equalTotal)+" ")])]),e("div",{staticClass:"total-detail"},[e("div",[t._v(" "+t._s(t.$t("pay_payment_original_total"))+": "+t._s(t.checkedPayment.cur_sym)+t._s(t.checkedPayment.cur_trade_money)+" "),e("TotalInfos",{attrs:{paymentData:t.paymentData,curSym:t.curSym}})],1),t._v("  "),e("div",[t._v(" "+t._s(t.$t("pay_payment_total"))+": "+t._s(t.checkedPayment.cur_sym)+t._s(t.checkedPayment.cur_money)+" "),e("TotalInfos",{attrs:{isDiscount:!0,paymentData:t.paymentData,curSym:t.curSym}})],1),t._v("  "),e("div",[t._v(t._s(t.$t("pay_payment_processing_fee"))+": "+t._s(t.checkedPayment.cur_sym)+t._s(t.checkedPayment.cur_fee))])])]),e("a-spin",{attrs:{spinning:t.payLoading}},[e("button",{staticClass:"submit-btn",on:{click:function(e){return t.pay()}}},[t._v(t._s(t.$t("pay_payment_confirm")))])])],1)])],2),e("a-modal",{attrs:{title:t.$t("pay_payment_modal_new_page_payment"),okText:t.$t("pay_payment_modal_finish_payment"),cancelText:t.$t("pay_payment_modal_cancel_text"),centered:"",destroyOnClose:"",confirmLoading:t.checkLoading,okType:"danger"},on:{ok:t.payCheckout,cancel:function(e){t.getPayment,t.showFinishModal=!1}},model:{value:t.showFinishModal,callback:function(e){t.showFinishModal=e},expression:"showFinishModal"}},[e("div",{staticClass:"pay-info-text"},[e("p",{staticClass:"title"},[t._v(t._s(t.$t("pay_payment_modal_title")))]),e("ul",[e("li",[t._v(t._s(t.$t("pay_payment_modal_tip1")))])])])]),e("a-modal",{attrs:{maskClosable:!1,footer:null,centered:"",destroyOnClose:""},model:{value:t.showAlertModal,callback:function(e){t.showAlertModal=e},expression:"showAlertModal"}},[e("div",{staticClass:"alert-text"},[e("span",{domProps:{innerHTML:t._s(t.alertText)}}),e("div",{staticClass:"btn-box"},[e("button",{staticClass:"confirm-btn submit-btn",on:{click:function(e){t.showAlertModal=!1}}},[t._v(t._s(t.$t("confirm_ok_text")))])])])])],1),e("common-footer")],1)},s=[],i=(a("14d9"),a("e9f5"),a("f665"),a("3e0f")),r=a("cbfe"),o=a("cc33"),c=a("d9a2"),l=a("46bb"),u=function(){var t=this,e=t._self._c;return e("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.totalFeeInfos&&t.totalFeeInfos.length,expression:"totalFeeInfos && totalFeeInfos.length"}],attrs:{placement:"top","popper-class":"fee-detail-tooltip"}},[e("template",{slot:"content"},[e("div",{staticClass:"price-detail"},t._l(t.totalFeeInfos,(function(a){return e("p",{key:a},[e("span",[t._v(t._s(a.name))]),e("span",[e("span",{directives:[{name:"show",rawName:"v-show",value:t.isDiscount,expression:"isDiscount"}]},[t._v("-")]),t._v(" "+t._s(t.curSym)+t._s(a.cur_money)+" ")])])})),0)]),e("a-icon",{staticStyle:{"font-size":"14px",color:"#333"},attrs:{type:"question-circle"}})],2)},m=[],d={props:{paymentData:{type:Object,default:()=>({})},curSym:{type:String,default:"￥"},isDiscount:!1},computed:{totalFeeInfos(){return this.isDiscount?this.paymentData.v2_dis_infos:this.paymentData.v2_ex_fee_infos}}},p=d,y=(a("739e"),a("2877")),h=Object(y["a"])(p,u,m,!1,null,"8015f37e",null),_=h.exports,f={name:"Pay",data(){return{fixedType:!1,activating:!1,areaList:[],countryCode:"",activate:{code:""},couponList:[],paymentList:[],unpaymentList:[],payment:0,paymentData:{},curSym:"￥",userMoney:0,curMoneyAll:0,currentCoupon:0,showFinishModal:!1,isLoading:!1,payLoading:!1,showAlertModal:!1,alertText:"",checkLoading:!1}},components:{commonHeader:c["a"],commonFooter:l["a"],TotalInfos:_},computed:{couponColumns(){const t=[{title:"",width:"40%",dataIndex:"how_use",slots:{filterIcon:"how_use"},scopedSlots:{customRender:"how_use"}},{title:this.$t("pay_coupon_denomination"),width:"100",dataIndex:"money_str"},{title:this.$t("pay_coupon_type"),width:"100",dataIndex:"type_str"},{title:this.$t("pay_coupon_indate"),width:"300",dataIndex:"endtime",slots:{filterIcon:"endtime"},scopedSlots:{customRender:"endtime"}}];return t},nowDate(){const t=Math.round((new Date).getTime()/1e3);return t},tradesn(){return this.$route.query.key},checkedPayment(){let t={};return 0!==this.paymentList.length&&(t=this.paymentList[this.payment]),t},isMobile(){let t=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/);return t},equalTotal(){const{cur_sym:t,cur_money_all:e,cur_money_all_outer:a}=this.checkedPayment,{curSym:n}=this;let s=0;s=e!==a?`${t}${e} ≈ ${n}${a}`:`${t}${e}`;let i=0!==Object.keys(this.checkedPayment).length?s:"0";return i}},async mounted(){this.isLoading=!0,window.addEventListener("scroll",this.handleScroll),this.getAreaList()},methods:{cancalReadOnly(t){this.$nextTick(()=>{if(!t){const{select:t}=this.$refs,e=t.$el.querySelector(".el-input__inner");e.removeAttribute("readonly")}})},getAreaList(){this.$store.dispatch("getAreaList").then(t=>{this.areaList=t;try{let t=this.areaList.find(t=>t.is_current);this.countryCode=t.country_code}catch(e){}this.getPayment()})},handleScroll(){let t=document.documentElement.offsetHeight,e=document.querySelector(".judge").getBoundingClientRect().top;this.fixedType=t<e},handleConversion(){if(""===this.activate.code)return this.$message.warning(this.$t("pay_coupon_empty_code"));this.activating=!0,Object(r["a"])(this.activate).then(t=>{this.$message.success(this.$t("pay_coupon_exchange_success")),this.activate.code="",this.activating=!1,this.getPayment()}).catch(t=>{this.activating=!1})},selectCoupon(t){this.currentCoupon=t?t.id:0,this.getPayment()},countryChange(){this.payment=0,this.getPayment()},getPayment(){this.isLoading=!0;let t={tradesn:this.tradesn,couponId:this.currentCoupon,countryCode:this.countryCode};Object(i["d"])(t).then(t=>{let e=t.data;this.paymentData=e,this.paymentList=e.payment_list,this.unpaymentList=e.un_payment_list,this.curSym=e.cur_sym,this.userMoney=Number(e.cur_user_money),0===e.checked_coupon_id&&(this.currentCoupon=0),e.coupon_list&&(this.couponList=e.coupon_list),"balance"===this.paymentList[0].name&&(this.curMoneyAll=Number(this.paymentList[0].cur_money_all)),this.$nextTick(()=>{this.handleScroll()}),this.isLoading=!1}).catch(t=>{0!==this.currentCoupon&&(this.currentCoupon=0,this.selectCoupon()),this.isLoading=!1})},selectPayment(t,e){this.payment=e,1===t.alert_status&&""!==t.alert&&(this.showAlertModal=!0,this.alertText=t.alert)},pay(){const{name:t}=this.checkedPayment;switch(t){case"balance":this.balancePayment();break;case"wise":let t=this.$router.resolve({path:"/wise",query:{key:this.tradesn}});window.open(t.href,"_blank"),this.showFinishModal=!0;break;default:this.checkoutPayment();break}},balancePayment(){const t=this.$createElement;let e=this;this.$confirm({title:"Confirmation of payment",okText:"Confirm",cancelText:"Cancel",okType:"danger",autoFocusButton:null,content:()=>t("div",[t("p",["Your balance： ",this.curSym,this.userMoney]),t("p",["Actual amount payable： ",this.curSym,this.checkedPayment.cur_money_all])]),centered:!0,onOk(){return new Promise((t,a)=>{const n=e.balancePay(t,a);return n}).catch(()=>{})}})},checkoutPayment(){this.payLoading=!0;let t=this.checkedPayment.name,e=this.checkedPayment.is_sdk,a=this.$router.resolve({path:"/payment",query:{paycode:t,isSdk:e,tradesn:this.tradesn,countryCode:this.countryCode}});window.open(a.href,"_blank"),this.showFinishModal=!0,this.payLoading=!1},balancePay(t,e){let a={};a.tradesn=this.tradesn,a.couponId=this.currentCoupon,Object(i["e"])(a).then(e=>{t(),this.finishPay()}).catch(()=>{e()})},payCheckout(){const t={tradesn:this.tradesn};this.checkLoading=!0,Object(i["b"])(t).then(t=>{const{status_id:e}=t.data;1===e&&this.finishPay()}).finally(()=>{this.checkLoading=!1})},finishPay(){let t="/";-1!==this.tradesn.indexOf("CZ")&&(this.redditAdsTrack("余额"),t="/center/property"),-1===this.tradesn.indexOf("OD")&&-1===this.tradesn.indexOf("QC")||(this.redditAdsTrack("订单"),t="/pay/success"),-1===this.tradesn.indexOf("PG")&&-1===this.tradesn.indexOf("DO")||(t="/center/mypack/sendorderList"),-1!==this.tradesn.indexOf("RP")&&(t="/center/rehearsal"),this.$router.push({path:t})},redditAdsTrack(t){let e=this.tradesn;Object(o["c"])(o["a"].hasPurchased)||"function"!==typeof rdt||(rdt("track","Purchase",{transactionId:e,products:[{name:t}]}),Object(o["i"])(o["a"].hasPurchased,!0))}},destroyed(){window.removeEventListener("scroll",this.handleScroll)}},v=f,b=(a("c748"),Object(y["a"])(v,n,s,!1,null,"e159f5fa",null));e["default"]=b.exports},"3e0f":function(t,e,a){"use strict";a.d(e,"d",(function(){return s})),a.d(e,"k",(function(){return i})),a.d(e,"e",(function(){return r})),a.d(e,"l",(function(){return o})),a.d(e,"m",(function(){return c})),a.d(e,"a",(function(){return l})),a.d(e,"f",(function(){return u})),a.d(e,"j",(function(){return m})),a.d(e,"c",(function(){return d})),a.d(e,"g",(function(){return p})),a.d(e,"i",(function(){return y})),a.d(e,"h",(function(){return h})),a.d(e,"b",(function(){return _}));var n=a("4ec3");function s(t={}){return Object(n["a"])("/api/pay/configs",t,!0)}function i(t={}){return Object(n["a"])("/api/pay/trade",t,!0)}function r(t={}){return Object(n["a"])("/api/pay/balance",t,!0)}function o(t={}){return Object(n["a"])("/api/pay/wiseInfo",t,!0)}function c(t={}){return Object(n["a"])("/api/pay/wiseSubmit",t,!0)}function l(t={}){return Object(n["a"])("/api/pay/balanceList",t,!0)}function u(t={}){return Object(n["a"])("/api/pay/rechargeList",t,!0)}function m(t={}){return Object(n["a"])("/api/pay/remitList",t,!0)}function d(t={}){return Object(n["a"])("/api/pay/checkout",t,!0)}function p(t={}){return Object(n["a"])("/api/pay/refund",t,!0)}function y(t={}){return Object(n["a"])("/api/pay/refundable",t,!0)}function h(t={}){return Object(n["a"])("/api/pay/refundList",t,!0)}function _(t={}){return Object(n["a"])("/api/pay/checkStatus",t,!0)}},"739e":function(t,e,a){"use strict";a("ad40")},"7e98":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"payment-success"}},[e("commonHeader"),e("main",[e("div",{staticClass:"content"},[e("p",{staticClass:"first-title"},[e("img",{attrs:{src:t.$store.state.imageUrl+"/iocn_pay_success_chenggong.png",alt:""}}),t._v(" "+t._s(t.$t("pay_pay_success"))+" ")]),e("span",{staticClass:"first-span"},[t._v(t._s(t.$t("pay_pay_success_tip")))]),e("label",{attrs:{for:""}},[t._v(t._s(t.$t("pay_pay_success_tip_title")))]),e("ul",[e("li",[e("p",[e("img",{attrs:{src:t.$store.state.imageUrl+"/icon_pay_success_title1.png",alt:""}}),t._v(" "+t._s(t.$t("pay_pay_success_desc_title1"))+" ")]),e("span",[t._v(t._s(t.$t("pay_pay_success_desc1")))])]),e("li",[e("p",[e("img",{attrs:{src:t.$store.state.imageUrl+"/icon_pay_success_title2.png",alt:""}}),t._v(" "+t._s(t.$t("pay_pay_success_desc_title2"))+" ")]),e("span",[t._v(t._s(t.$t("pay_pay_success_desc2")))])])]),e("div",{staticClass:"btn-box"},[e("button",{staticClass:"submit-btn",on:{click:t.buy}},[t._v(t._s(t.$t("pay_pay_success_btn_buy")))]),e("button",{staticClass:"cancel-btn",on:{click:t.checkOrder}},[t._v(t._s(t.$t("pay_pay_success__check_order")))])])])]),e("commonFooter")],1)},s=[],i=(a("14d9"),a("d9a2")),r=a("46bb"),o={name:"PaymentSuccess",components:{commonHeader:i["a"],commonFooter:r["a"]},data(){return{}},computed:{userInfo(){return this.$store.getters.userInfo}},methods:{buy(){this.$router.push({path:"/center/cart"})},checkOrder(){this.$router.push({path:"/center/myorder/orderList"})}}},c=o,l=(a("1ba4"),a("2877")),u=Object(l["a"])(c,n,s,!1,null,"f630f064",null);e["default"]=u.exports},9485:function(t,e,a){"use strict";var n=a("23e7"),s=a("2266"),i=a("59ed"),r=a("825a"),o=a("46c4"),c=a("2a62"),l=a("f99f"),u=a("2ba4"),m=a("d039"),d=TypeError,p=m((function(){[].keys().reduce((function(){}),void 0)})),y=!p&&l("reduce",d);n({target:"Iterator",proto:!0,real:!0,forced:p||y},{reduce:function(t){r(this);try{i(t)}catch(m){c(this,"throw",m)}var e=arguments.length<2,a=e?void 0:arguments[1];if(y)return u(y,this,e?[t]:[t,a]);var n=o(this),l=0;if(s(n,(function(n){e?(e=!1,a=n):a=t(a,n,l),l++}),{IS_RECORD:!0}),e)throw new d("Reduce of empty iterator with no initial value");return a}})},"97fc":function(t,e,a){},a640:function(t,e,a){"use strict";var n=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&n((function(){a.call(null,e||function(){return 1},1)}))}},a9c8:function(t,e,a){"use strict";a("97fc")},ad40:function(t,e,a){},bfcd:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"payment"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.loading&&!t.isAlipayPay,expression:"loading && !isAlipayPay"}],staticClass:"hb-pay-loading"},[e("span",[t._v("Processing Payment")]),e("a-spin",[e("a-icon",{staticStyle:{"font-size":"24px"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1)],1),""!==t.htmls?e("div",{staticClass:"content",domProps:{innerHTML:t._s(t.htmls)}}):t._e(),t.reqArgs.length?e("main",{staticClass:"main-bg"},[e("div",{staticClass:"form-model"},[t._l(t.reqArgs,(function(a){return e("div",{key:a["key"],staticClass:"form-model-item"},[e("label",{attrs:{for:a["title"]}},[t._v(t._s(a["title"]))]),e("a-input",{attrs:{placeholder:a["hint"],size:"large",name:a["title"]},model:{value:a["value"],callback:function(e){t.$set(a,"value","string"===typeof e?e.trim():e)},expression:"item['value']"}})],1)})),e("a-spin",{staticStyle:{"margin-top":"20px"},attrs:{spinning:t.spinning}},[e("button",{staticClass:"submit-btn",on:{click:t.submitReqArgs}},[t._v("Submit")])])],2)]):t._e(),e("main",{directives:[{name:"show",rawName:"v-show",value:t.isAlipayPay,expression:"isAlipayPay"}]},[e("div",{attrs:{id:"ContainerNodeId"}})])])},s=[],i=(a("13d5"),a("e9f5"),a("f665"),a("ab43"),a("9485"),a("3e0f")),r=(a("cc33"),{name:"Payment",data(){return{loading:!0,htmls:"",reqArgs:[],spinning:!1,aliDeviceTokenId:"",isAlipayPay:!1,checkoutApp:null}},computed:{query(){return this.$route.query},bodyStyle(){let t=document.createElement("style");return t.innerHTML="\n        @media screen and (max-width: 600px) {\n          body {\n            /* 在这里添加你想要应用于body元素的样式 */\n            min-width: 100vw !important;\n          }\n        }\n      ",t}},created(){document.head.appendChild(this.bodyStyle);const{paycode:t}=this.query;if(t.indexOf("alip_")>-1){let t=document.createElement("script");t.src="https://sdk.marmot-cloud.com/package/ams-checkout/1.6.1/dist/umd/ams-checkout.min.js",t.id="dynamic-script",document.body.appendChild(t)}},async mounted(){const{paycode:t}=this.query;t.indexOf("alip_")>-1?this.initAlipayPay():this.payment()},methods:{payment(t={}){const{paycode:e,tradesn:a,countryCode:n,isSdk:s}=this.query;let r=e.indexOf("alip_")>-1?this.aliDeviceTokenId:"";const o={paycode:e,tradesn:a,countryCode:n,isSdk:Boolean(Number(s)),aliDeviceTokenId:r,exArgs:{...t}};Object(i["c"])(o).then(t=>{let e=t.data.url,a=t.data.html,n=t.data.req_args;if(this.spinning=!1,e&&(window.location.href=e),a&&(this.htmls=a,this.$nextTick(()=>{let t=document.getElementsByTagName("form");t[0].submit()})),Array.isArray(n)&&n.length&&(this.loading=!1,this.reqArgs=n.map(t=>({value:"",...t}))),t.data.hasOwnProperty("result")&&t.data.result.hasOwnProperty("paymentSessionData"))return this.isAlipayPay=!0,void this.alipayPay(t.data.result.paymentSessionData);t.data.hasOwnProperty("result")&&this.airwallexPay(t.data.result)}).catch(t=>{this.$confirm({title:"Pay error",icon:()=>"",okType:"danger",okText:"Close",cancelButtonProps:{style:{display:"none"}},autoFocusButton:null,centered:!0,keyboard:!1,onOk:()=>{this.spinning||window.close(),this.spinning=!1},onCancel:()=>{this.spinning||window.close(),this.spinning=!1}})})},initAlipayPay(){return new Promise((t,e)=>{window.AMSCashierPayment?(this.checkoutApp=new window.AMSCashierPayment({environment:"sandbox",locale:"en_US",analytics:{enabled:!0},product:"CASHIER_PAYMENT",onLog:({code:t,message:e})=>{},onEventCallback:({code:t,result:e})=>{},onError:({code:t,message:e})=>{}}),t(),this.payment()):setTimeout(()=>{this.initAlipayPay()},3e3)})},async alipayPay(t){await this.checkoutApp.mountComponent({sessionData:t,appearance:{showLoading:!0,showSubmitButton:!0},notRedirectAfterComplete:!1},"#ContainerNodeId")},async airwallexPay(t){const e={...t};try{await Airwallex.init({origin:window.location.origin}),Airwallex.redirectToCheckout(e)}catch(a){throw a}},submitReqArgs(){let t=this.reqArgs.find(t=>""===t.value);if(t)return this.$message.warning(t["title"]+" can not be empty");let e=this.reqArgs.reduce((function(t,e){return t[e.key]=e.value,t}),{});this.spinning=!0,this.payment(e)}},beforeDestroy(){var t;this.bodyStyle&&document.head.removeChild(this.bodyStyle);let e=document.getElementById("dynamic-script");e&&document.body.removeChild(e),null===(t=this.checkoutApp)||void 0===t||t.unmount()}}),o=r,c=(a("f40f"),a("2877")),l=Object(c["a"])(o,n,s,!1,null,"69060b84",null);e["default"]=l.exports},c748:function(t,e,a){"use strict";a("3920")},cbfe:function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return i}));var n=a("4ec3");function s(t={}){return Object(n["a"])("/api/coupon/index",t,!0)}function i(t={}){return Object(n["a"])("/api/coupon/activate",t,!0)}},d58f:function(t,e,a){"use strict";var n=a("59ed"),s=a("7b0b"),i=a("44ad"),r=a("07fa"),o=TypeError,c="Reduce of empty array with no initial value",l=function(t){return function(e,a,l,u){var m=s(e),d=i(m),p=r(m);if(n(a),0===p&&l<2)throw new o(c);var y=t?p-1:0,h=t?-1:1;if(l<2)while(1){if(y in d){u=d[y],y+=h;break}if(y+=h,t?y<0:p<=y)throw new o(c)}for(;t?y>=0:p>y;y+=h)y in d&&(u=a(u,d[y],y,m));return u}};t.exports={left:l(!1),right:l(!0)}},e630:function(t,e,a){"use strict";a.r(e);a("e9f5"),a("ab43");var n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"wise"}},[e("commonHeader"),e("div",{staticClass:"wise"},[e("div",{staticClass:"wise-title"},[e("h2",[t._v("Wise Bank Remittance "),e("routerLink",{staticStyle:{color:"blue"},attrs:{to:"/service/help/question?id=121",target:"_blank"}},[t._v("Novice tutorial")])],1),t._m(0)]),e("div",{staticClass:"step"},[t._m(1),e("div",{staticClass:"switch-cur"},[e("ul",t._l(t.curArr,(function(a,n){return e("li",{key:n,class:{"active-cur":t.submitInfo.remitCur===a},on:{click:function(e){t.submitInfo.remitCur=a}}},[t._v(" "+t._s(a)+" ")])})),0)]),t._m(2),e("div",{staticClass:"person-info item",staticStyle:{display:"block"}},[e("h1",[t._v("Beneficiary Information")]),t._l(t.currentInfo,(function(a,n){return e("div",{key:n,staticClass:"info-item",on:{mouseenter:function(e){t.currentValue=a},mouseleave:function(e){t.currentValue=""}}},[e("div",{staticClass:"info"},[t._v(t._s(n)+"：")]),e("span",[t._v(t._s(a))]),e("button",{directives:[{name:"show",rawName:"v-show",value:t.currentValue===a||t.isMobile,expression:"currentValue === value || isMobile"}],staticClass:"copy-btn",on:{click:function(e){return t.handleCopy(a,e)}}},[t._v("copy")])])}))],2),t._m(3),e("div",{staticClass:"step3"},[e("h3",[t._v("Verify by submitting the remittance information")]),e("div",{staticClass:"form-item"},[e("label",{staticClass:"label-title",attrs:{for:"name"}},[t._v("Remitter's Name")]),e("div",{staticClass:"name-tip"},[t._v("In order to avoid filling in the wrong name, the amount cannot be credited to the account, please copy the full name of your WISE account directly and paste it into the bar below ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.submitInfo.accountName,expression:"submitInfo.accountName"}],staticClass:"input-text",attrs:{type:"text",name:"accountname","data-rule":"required"},domProps:{value:t.submitInfo.accountName},on:{input:function(e){e.target.composing||t.$set(t.submitInfo,"accountName",e.target.value)}}})]),e("div",{staticClass:"form-item"},[e("label",{staticClass:"label-title",attrs:{for:"number"}},[t._v("Remittance Transaction Number")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.submitInfo.txn,expression:"submitInfo.txn"}],staticClass:"input-text",attrs:{type:"text",name:"txn","data-rule":"required"},domProps:{value:t.submitInfo.txn},on:{input:function(e){e.target.composing||t.$set(t.submitInfo,"txn",e.target.value)}}})]),e("div",{staticClass:"form-item currency"},[e("div",{staticClass:"form-item-small"},[e("label",{staticClass:"label-title",attrs:{for:"currency"}},[t._v("Remittance Currency")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.submitInfo.remitCur,expression:"submitInfo.remitCur"}],staticClass:"input-text",attrs:{name:"currency",id:"","data-rule":"required"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.submitInfo,"remitCur",e.target.multiple?a:a[0])}}},t._l(t.curArr,(function(a,n){return e("option",{key:n,staticClass:"wise-option-list",domProps:{value:a}},[t._v(t._s(a))])})),0)]),e("div",{staticClass:"form-item-small"},[e("label",{staticClass:"label-title",attrs:{for:"amount"}},[t._v("Remittance Amount")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.submitInfo.money,expression:"submitInfo.money"}],staticClass:"input-text",attrs:{type:"number",step:"0.01",name:"money","data-rule":"required",autocomplete:"off"},domProps:{value:t.submitInfo.money},on:{input:function(e){e.target.composing||t.$set(t.submitInfo,"money",e.target.value)}}})])]),e("button",{staticClass:"submit",on:{click:t.handleSubmit}},[t._v("I have remitted money, submit information")])])])]),e("commonFooter")],1)},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"agreement"},[e("h3",[t._v("Usage Notice for Wise")]),e("p",[t._v("1. Wise accounts only accept transfers in the same currency, for example, a U.S. dollar account only accepts U.S. dollar transfers, and cannot accept GBP transfers;")]),e("p",[t._v("2. Normally, no handling fee is required for transfer. The actual situation depends on the remittance bank policy;")]),e("p",[t._v("3. Bank settlement payments will generally arrive within 2-5 working days after your transfer;")]),e("p",[t._v("4. Hagobuy will convert it into RMB at the exchange rate of Hagobuy website at the time of receipt of the remittance and top up your account accordingly.")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"step-p"},[e("span",{staticClass:"step-num"},[t._v("1")]),e("h1",[t._v("Please Select Your Currency for Remittance")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"step-p"},[e("span",{staticClass:"step-num"},[t._v("2")]),e("h1",[t._v("If you haven't started Wise remittance "),e("span",{staticClass:"step-tip"},[t._v("If you have already completed this step, please skip to step 3")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"step-p"},[e("span",{staticClass:"step-num"},[t._v("3")]),e("h1",[t._v("If you have already sent money")]),e("span",{staticClass:"step-tip"},[t._v("You can inform Hagobuy by filling in the chart below. Please be sure to fill in the transfer information within 72 hours and Hagobuy will check it for you as soon as possible.")])])}],i=(a("14d9"),a("d9a2")),r=a("46bb"),o=a("3e0f"),c=a("cc33"),l=a("3de1"),u={name:"wise",data(){return{payeesMap:{},curArr:[],currentValue:"",submitInfo:{accountName:"",txn:"",remitCur:"",money:""}}},components:{commonHeader:i["a"],commonFooter:r["a"]},computed:{isMobile(){let t=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/);return t},tradesn(){return this.$route.query.key},cur(){return Object(c["c"])(c["a"].cur)},currentInfo(){let t={},e=this.submitInfo.remitCur;return t=this.payeesMap[e],t}},mounted(){this.initData()},methods:{initData(){if(!this.tradesn)return void this.$router.push({path:"/center"});let t={tradesn:this.tradesn,cur:this.cur};Object(o["l"])(t).then(t=>{this.payeesMap=t.data.payees,this.curArr=Object.keys(this.payeesMap),this.submitInfo.remitCur=this.curArr[0],"CNY"!==this.cur&&(this.submitInfo.remitCur=this.cur)})},handleCopy(t,e){l["a"].copyValue(t,e).then(e=>{this.$message.success("Copy success: "+t)}).catch(()=>{this.$warning({content:"Please manually copy"})})},handleSubmit(){let t=this;this.$confirm({okText:"Submit",cancelText:"Cancel",okType:"danger",autoFocusButton:null,content:()=>"Please confirm and submit the information",centered:!0,onOk(){t.confirmSubmit()}})},confirmSubmit(){let t=Object.assign(this.submitInfo);t.tradesn=this.tradesn,Object(o["m"])(t).then(t=>{this.$router.push({path:"/center/property",query:{page:"remit"}})})}}},m=u,d=(a("a9c8"),a("2877")),p=Object(d["a"])(m,n,s,!1,null,"3c567222",null);e["default"]=p.exports},f40f:function(t,e,a){"use strict";a("ff6b")},ff6b:function(t,e,a){}}]);