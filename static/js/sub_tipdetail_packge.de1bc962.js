(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sub_tipdetail_packge"],{"27a9":function(e,t,i){},"27c7":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"tip-detail"}},[t("commonHeaderVue"),t("main",[t("div",{staticClass:"detail"},[t("div",{staticClass:"item_title"},[t("h2",[e._v(e._s(e.tipItem.title))]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.tipItem.createtime,expression:"tipItem.createtime"}],staticClass:"item_time"},[e._v(" "+e._s(e._f("formatDate")(e.tipItem.createtime))+" ")])]),t("div",{staticClass:"item_content"},[t("div",{domProps:{innerHTML:e._s(e.tipItem.content)},on:{click:e.contentClick}})])]),e.imgViewerVisible?t("imageViewer",{attrs:{urlList:e.srcList,onClose:e.closeImgViewer}}):e._e()],1),t("commonFooter")],1)},s=[],o=(i("14d9"),i("d9a2")),a=i("46bb"),r=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"viewer-fade"}},[t("div",{ref:"el-image-viewer__wrapper",staticClass:"el-image-viewer__wrapper",style:{"z-index":e.viewerZIndex},attrs:{tabindex:"-1"}},[t("div",{staticClass:"el-image-viewer__mask",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleMaskClick.apply(null,arguments)}}}),t("span",{staticClass:"el-image-viewer__btn el-image-viewer__close",on:{click:e.hide}},[t("i",{staticClass:"el-icon-close"})]),e.isSingle?e._e():[t("span",{staticClass:"el-image-viewer__btn el-image-viewer__prev",class:{"is-disabled":!e.infinite&&e.isFirst},on:{click:e.prev}},[t("i",{staticClass:"el-icon-arrow-left"})]),t("span",{staticClass:"el-image-viewer__btn el-image-viewer__next",class:{"is-disabled":!e.infinite&&e.isLast},on:{click:e.next}},[t("i",{staticClass:"el-icon-arrow-right"})])],t("div",{staticClass:"el-image-viewer__btn el-image-viewer__actions"},[t("div",{staticClass:"el-image-viewer__actions__inner"},[t("i",{staticClass:"el-icon-zoom-out",on:{click:function(t){return e.handleActions("zoomOut")}}}),t("i",{staticClass:"el-icon-zoom-in",on:{click:function(t){return e.handleActions("zoomIn")}}}),t("i",{staticClass:"el-image-viewer__actions__divider"}),t("i",{class:e.mode.icon,on:{click:e.toggleMode}}),t("i",{staticClass:"el-image-viewer__actions__divider"}),t("i",{staticClass:"el-icon-refresh-left",on:{click:function(t){return e.handleActions("anticlocelise")}}}),t("i",{staticClass:"el-icon-refresh-right",on:{click:function(t){return e.handleActions("clocelise")}}})])]),t("div",{staticClass:"el-image-viewer__canvas"},e._l(e.urlList,(function(i,n){return n===e.index?t("img",{key:i,ref:"img",refInFor:!0,staticClass:"el-image-viewer__img",style:e.imgStyle,attrs:{src:e.currentImg,referrerpolicy:"no-referrer"},on:{load:e.handleImgLoad,error:e.handleImgError,mousedown:e.handleMouseDown}}):e._e()})),0)],2)])},l=[],c=i("2b0e");const d=c["default"].prototype.$isServer,u=/([\:\-\_]+(.))/g,m=/^moz([A-Z])/,h=d?0:Number(document.documentMode),f=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},p=function(e){return e.replace(u,(function(e,t,i,n){return n?i.toUpperCase():i})).replace(m,"Moz$1")},g=function(){return!d&&document.addEventListener?function(e,t,i){e&&t&&i&&e.addEventListener(t,i,!1)}:function(e,t,i){e&&t&&i&&e.attachEvent("on"+t,i)}}(),v=function(){return!d&&document.removeEventListener?function(e,t,i){e&&t&&e.removeEventListener(t,i,!1)}:function(e,t,i){e&&t&&e.detachEvent("on"+t,i)}}();function w(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function y(e,t){if(e){for(var i=e.className,n=(t||"").split(" "),s=0,o=n.length;s<o;s++){var a=n[s];a&&(e.classList?e.classList.add(a):w(e,a)||(i+=" "+a))}e.classList||e.setAttribute("class",i)}}function _(e,t){if(e&&t){for(var i=t.split(" "),n=" "+e.className+" ",s=0,o=i.length;s<o;s++){var a=i[s];a&&(e.classList?e.classList.remove(a):w(e,a)&&(n=n.replace(" "+a+" "," ")))}e.classList||e.setAttribute("class",f(n))}}const b=h<9?function(e,t){if(!d){if(!e||!t)return null;t=p(t),"float"===t&&(t="styleFloat");try{switch(t){case"opacity":try{return e.filters.item("alpha").opacity/100}catch(i){return 1}default:return e.style[t]||e.currentStyle?e.currentStyle[t]:null}}catch(i){return e.style[t]}}}:function(e,t){if(!d){if(!e||!t)return null;t=p(t),"float"===t&&(t="cssFloat");try{var i=document.defaultView.getComputedStyle(e,"");return e.style[t]||i?i[t]:null}catch(n){return e.style[t]}}};let k=e=>{var t={};return e&&"[object Function]"===t.toString.call(e)};"object"===typeof Int8Array||!c["default"].prototype.$isServer&&"function"===typeof document.childNodes||(k=function(e){return"function"===typeof e||!1});Object.prototype.hasOwnProperty;const C=function(){return!c["default"].prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)};function x(e){let t=!1;return function(...i){t||(t=!0,window.requestAnimationFrame(n=>{e.apply(this,i),t=!1}))}}var I=function(e){for(let t=1,i=arguments.length;t<i;t++){let i=arguments[t]||{};for(let t in i)if(i.hasOwnProperty(t)){let n=i[t];void 0!==n&&(e[t]=n)}}return e};let L,S=!1,O=!1;const z=function(){if(c["default"].prototype.$isServer)return;let e=F.modalDom;return e?S=!0:(S=!1,e=document.createElement("div"),F.modalDom=e,e.addEventListener("touchmove",(function(e){e.preventDefault(),e.stopPropagation()})),e.addEventListener("click",(function(){F.doOnModalClick&&F.doOnModalClick()}))),e},N={},F={modalFade:!0,getInstance:function(e){return N[e]},register:function(e,t){e&&t&&(N[e]=t)},deregister:function(e){e&&(N[e]=null,delete N[e])},nextZIndex:function(){return F.zIndex++},modalStack:[],doOnModalClick:function(){const e=F.modalStack[F.modalStack.length-1];if(!e)return;const t=F.getInstance(e.id);t&&t.closeOnClickModal&&t.close()},openModal:function(e,t,i,n,s){if(c["default"].prototype.$isServer)return;if(!e||void 0===t)return;this.modalFade=s;const o=this.modalStack;for(let r=0,l=o.length;r<l;r++){const t=o[r];if(t.id===e)return}const a=z();if(y(a,"v-modal"),this.modalFade&&!S&&y(a,"v-modal-enter"),n){let e=n.trim().split(/\s+/);e.forEach(e=>y(a,e))}setTimeout(()=>{_(a,"v-modal-enter")},200),i&&i.parentNode&&11!==i.parentNode.nodeType?i.parentNode.appendChild(a):document.body.appendChild(a),t&&(a.style.zIndex=t),a.tabIndex=0,a.style.display="",this.modalStack.push({id:e,zIndex:t,modalClass:n})},closeModal:function(e){const t=this.modalStack,i=z();if(t.length>0){const n=t[t.length-1];if(n.id===e){if(n.modalClass){let e=n.modalClass.trim().split(/\s+/);e.forEach(e=>_(i,e))}t.pop(),t.length>0&&(i.style.zIndex=t[t.length-1].zIndex)}else for(let i=t.length-1;i>=0;i--)if(t[i].id===e){t.splice(i,1);break}}0===t.length&&(this.modalFade&&y(i,"v-modal-leave"),setTimeout(()=>{0===t.length&&(i.parentNode&&i.parentNode.removeChild(i),i.style.display="none",F.modalDom=void 0),_(i,"v-modal-leave")},200))}};Object.defineProperty(F,"zIndex",{configurable:!0,get(){return O||(L=L||(c["default"].prototype.$ELEMENT||{}).zIndex||2e3,O=!0),L},set(e){L=e}});const $=function(){if(!c["default"].prototype.$isServer&&F.modalStack.length>0){const e=F.modalStack[F.modalStack.length-1];if(!e)return;const t=F.getInstance(e.id);return t}};c["default"].prototype.$isServer||window.addEventListener("keydown",(function(e){if(27===e.keyCode){const e=$();e&&e.closeOnPressEscape&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())}}));var T=F;let E;var A=function(){if(c["default"].prototype.$isServer)return 0;if(void 0!==E)return E;const e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth;e.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",e.appendChild(i);const n=i.offsetWidth;return e.parentNode.removeChild(e),E=t-n,E};let D,M=1;Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean;const V={CONTAIN:{name:"contain",icon:"el-icon-full-screen"},ORIGINAL:{name:"original",icon:"el-icon-c-scale-to-original"}},H=C()?"DOMMouseScroll":"mousewheel";var j={name:"elImageViewer",props:{urlList:{type:Array,default:()=>[]},zIndex:{type:Number,default:2e3},onSwitch:{type:Function,default:()=>{}},onClose:{type:Function,default:()=>{}},initialIndex:{type:Number,default:0},appendToBody:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0}},data(){return{index:this.initialIndex,isShow:!1,infinite:!0,loading:!1,mode:V.CONTAIN,transform:{scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}},computed:{isSingle(){return this.urlList.length<=1},isFirst(){return 0===this.index},isLast(){return this.index===this.urlList.length-1},currentImg(){return this.urlList[this.index]},imgStyle(){const{scale:e,deg:t,offsetX:i,offsetY:n,enableTransition:s}=this.transform,o={transform:`scale(${e}) rotate(${t}deg)`,transition:s?"transform .3s":"","margin-left":i+"px","margin-top":n+"px"};return this.mode===V.CONTAIN&&(o.maxWidth=o.maxHeight="100%"),o},viewerZIndex(){const e=T.nextZIndex();return this.zIndex>e?this.zIndex:e}},watch:{index:{handler:function(e){this.reset(),this.onSwitch(e)}},currentImg(e){this.$nextTick(e=>{const t=this.$refs.img[0];t.complete||(this.loading=!0)})}},methods:{hide(){this.deviceSupportUninstall(),this.onClose()},deviceSupportInstall(){this._keyDownHandler=e=>{e.stopPropagation();const t=e.keyCode;switch(t){case 27:this.hide();break;case 32:this.toggleMode();break;case 37:this.prev();break;case 38:this.handleActions("zoomIn");break;case 39:this.next();break;case 40:this.handleActions("zoomOut");break}},this._mouseWheelHandler=x(e=>{const t=e.wheelDelta?e.wheelDelta:-e.detail;t>0?this.handleActions("zoomIn",{zoomRate:.015,enableTransition:!1}):this.handleActions("zoomOut",{zoomRate:.015,enableTransition:!1})}),g(document,"keydown",this._keyDownHandler),g(document,H,this._mouseWheelHandler)},deviceSupportUninstall(){v(document,"keydown",this._keyDownHandler),v(document,H,this._mouseWheelHandler),this._keyDownHandler=null,this._mouseWheelHandler=null},handleImgLoad(e){this.loading=!1},handleImgError(e){this.loading=!1,e.target.alt="加载失败"},handleMouseDown(e){if(this.loading||0!==e.button)return;const{offsetX:t,offsetY:i}=this.transform,n=e.pageX,s=e.pageY;this._dragHandler=x(e=>{this.transform.offsetX=t+e.pageX-n,this.transform.offsetY=i+e.pageY-s}),g(document,"mousemove",this._dragHandler),g(document,"mouseup",e=>{v(document,"mousemove",this._dragHandler)}),e.preventDefault()},handleMaskClick(){this.maskClosable&&this.hide()},reset(){this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}},toggleMode(){if(this.loading)return;const e=Object.keys(V),t=Object.values(V),i=t.indexOf(this.mode),n=(i+1)%e.length;this.mode=V[e[n]],this.reset()},prev(){if(this.isFirst&&!this.infinite)return;const e=this.urlList.length;this.index=(this.index-1+e)%e},next(){if(this.isLast&&!this.infinite)return;const e=this.urlList.length;this.index=(this.index+1)%e},handleActions(e,t={}){if(this.loading)return;const{zoomRate:i,rotateDeg:n,enableTransition:s}={zoomRate:.2,rotateDeg:90,enableTransition:!0,...t},{transform:o}=this;switch(e){case"zoomOut":o.scale>.2&&(o.scale=parseFloat((o.scale-i).toFixed(3)));break;case"zoomIn":o.scale=parseFloat((o.scale+i).toFixed(3));break;case"clocelise":o.deg+=n;break;case"anticlocelise":o.deg-=n;break}o.enableTransition=s}},mounted(){this.deviceSupportInstall(),this.appendToBody&&document.body.appendChild(this.$el),this.$refs["el-image-viewer__wrapper"].focus()},destroyed(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},B=j,P=i("2877"),W=Object(P["a"])(B,r,l,!1,null,null,null),X=W.exports,Y=i("aa2a"),R={nam:"TipDetail",components:{commonHeaderVue:o["a"],commonFooter:a["a"],imageViewer:X},data(){return{tipItem:{},srcList:[],imgViewerVisible:!1}},mounted(){this.$route.query.id&&""!==this.$route.query.id?this.getTipDetail(this.$route.query.id):this.$router.push({path:"/"})},methods:{getTipDetail(e){let t={};t.id=e,Object(Y["e"])(t).then(e=>{this.tipItem=e.data.item})},contentClick(e){"IMG"===e.target.nodeName&&(this.srcList=[e.target.currentSrc],this.showImgViewer())},showImgViewer(){this.imgViewerVisible=!0},closeImgViewer(){this.imgViewerVisible=!1,this.srcList=[]}}},Z=R,q=(i("f7bf"),Object(P["a"])(Z,n,s,!1,null,"122dc5d2",null));t["default"]=q.exports},aa2a:function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"e",(function(){return o})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return l}));var n=i("4ec3");function s(e={}){return Object(n["a"])("/api/news/index",e,!0,!0)}function o(e={}){return Object(n["a"])("/api/news/item",e,!0)}function a(e={}){return Object(n["a"])("/api/article/cateList",e,!0)}function r(e={}){return Object(n["a"])("/api/article/index",e,!0)}function l(e={}){return Object(n["a"])("/api/article/item",e,!0)}},f7bf:function(e,t,i){"use strict";i("27a9")}}]);